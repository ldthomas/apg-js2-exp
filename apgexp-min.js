!function e(t,r,n){function s(a,o){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[a]={exports:{}};t[a][0].call(h.exports,function(e){var r=t[a][1][e];return s(r?r:e)},h,h.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(e,t,r){},{}],2:[function(e,t,r){(function(t){"use strict";function n(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?o(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function a(e,t){if(e=m(e,0>t?0:0|g(t)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;t>r;r++)e[r]=0;return e}function o(e,t,r){"string"==typeof r&&""!==r||(r="utf8");var n=0|y(t,r);return e=m(e,n),e.write(t,r),e}function l(e,t){if(i.isBuffer(t))return c(e,t);if(X(t))return h(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return p(e,t);if(t instanceof ArrayBuffer)return u(e,t)}return t.length?d(e,t):f(e,t)}function c(e,t){var r=0|g(t.length);return e=m(e,r),t.copy(e,0,0,r),e}function h(e,t){var r=0|g(t.length);e=m(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function p(e,t){var r=0|g(t.length);e=m(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function u(e,t){return t.byteLength,i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):e=p(e,new Uint8Array(t)),e}function d(e,t){var r=0|g(t.length);e=m(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function f(e,t){var r,n=0;"Buffer"===t.type&&X(t.data)&&(r=t.data,n=0|g(r.length)),e=m(e,n);for(var s=0;n>s;s+=1)e[s]=255&r[s];return e}function m(e,t){i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):e.length=t;var r=0!==t&&t<=i.poolSize>>>1;return r&&(e.parent=Q),e}function g(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e,t){if(!(this instanceof b))return new b(e,t);var r=new i(e,t);return delete r.parent,r}function y(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(n)return Y(e).length;t=(""+t).toLowerCase(),n=!0}}function x(e,t,r){var n=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return L(this,t,r);case"binary":return _(this,t,r);case"base64":return v(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function k(e,t,r,n){r=Number(r)||0;var s=e.length-r;n?(n=Number(n),n>s&&(n=s)):n=s;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;n>a;a++){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))throw new Error("Invalid hex string");e[r+a]=o}return a}function T(e,t,r,n){return z(Y(t,e.length-r),e,r,n)}function S(e,t,r,n){return z($(t),e,r,n)}function E(e,t,r,n){return S(e,t,r,n)}function A(e,t,r,n){return z(V(t),e,r,n)}function w(e,t,r,n){return z(G(t,e.length-r),e,r,n)}function v(e,t,r){return 0===t&&r===e.length?q.fromByteArray(e):q.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],s=t;r>s;){var i=e[s],a=null,o=i>239?4:i>223?3:i>191?2:1;if(r>=s+o){var l,c,h,p;switch(o){case 1:128>i&&(a=i);break;case 2:l=e[s+1],128===(192&l)&&(p=(31&i)<<6|63&l,p>127&&(a=p));break;case 3:l=e[s+1],c=e[s+2],128===(192&l)&&128===(192&c)&&(p=(15&i)<<12|(63&l)<<6|63&c,p>2047&&(55296>p||p>57343)&&(a=p));break;case 4:l=e[s+1],c=e[s+2],h=e[s+3],128===(192&l)&&128===(192&c)&&128===(192&h)&&(p=(15&i)<<18|(63&l)<<12|(63&c)<<6|63&h,p>65535&&1114112>p&&(a=p))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),s+=o}return M(n)}function M(e){var t=e.length;if(W>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=W));return r}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;r>s;s++)n+=String.fromCharCode(127&e[s]);return n}function _(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;r>s;s++)n+=String.fromCharCode(e[s]);return n}function O(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var s="",i=t;r>i;i++)s+=K(e[i]);return s}function R(e,t,r){for(var n=e.slice(t,r),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+256*n[i+1]);return s}function B(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,s,a){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>s||a>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range")}function P(e,t,r,n){0>t&&(t=65535+t+1);for(var s=0,i=Math.min(e.length-r,2);i>s;s++)e[r+s]=(t&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function H(e,t,r,n){0>t&&(t=4294967295+t+1);for(var s=0,i=Math.min(e.length-r,4);i>s;s++)e[r+s]=t>>>8*(n?s:3-s)&255}function D(e,t,r,n,s,i){if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function I(e,t,r,n,s){return s||D(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,s){return s||D(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,r,n,52,8),r+8}function F(e){if(e=U(e).replace(Z,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return 16>e?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var r,n=e.length,s=null,i=[],a=0;n>a;a++){if(r=e.charCodeAt(a),r>55295&&57344>r){if(!s){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(56320>r){(t-=3)>-1&&i.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,128>r){if((t-=1)<0)break;i.push(r)}else if(2048>r){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function $(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function G(e,t){for(var r,n,s,i=[],a=0;a<e.length&&!((t-=2)<0);a++)r=e.charCodeAt(a),n=r>>8,s=r%256,i.push(s),i.push(n);return i}function V(e){return q.toByteArray(F(e))}function z(e,t,r,n){for(var s=0;n>s&&!(s+r>=t.length||s>=e.length);s++)t[s+r]=e[s];return s}var q=e("base64-js"),J=e("ieee754"),X=e("isarray");r.Buffer=i,r.SlowBuffer=b,r.INSPECT_MAX_BYTES=50,i.poolSize=8192;var Q={};i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),i._augment=function(e){return e.__proto__=i.prototype,e},i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,s=0,a=Math.min(r,n);a>s&&e[s]===t[s];)++s;return s!==a&&(r=e[s],n=t[s]),n>r?-1:r>n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!X(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var n=new i(t),s=0;for(r=0;r<e.length;r++){var a=e[r];a.copy(n,s),s+=a.length}return n},i.byteLength=y,i.prototype._isBuffer=!0,i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):x.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function r(e,t,r){for(var n=-1,s=0;r+s<e.length;s++)if(e[r+s]===t[-1===n?0:s-n]){if(-1===n&&(n=s),s-n+1===t.length)return r+n}else n=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return r(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):r(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var s=n;n=t,t=0|r,r=s}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":return S(this,e,t,r);case"binary":return E(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;i.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e);var n;if(i.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=i.prototype;else{var s=t-e;n=new i(s,void 0);for(var a=0;s>a;a++)n[a]=this[a+e]}return n.length&&(n.parent=this.parent||this),n},i.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||B(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n},i.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||B(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n},i.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||B(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||B(e,t,this.length);for(var n=t,s=1,i=this[e+--n];n>0&&(s*=256);)i+=this[e+--n]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),J.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),J.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),J.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),J.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||N(this,e,t,r,Math.pow(2,8*r),0);var s=1,i=0;for(this[t]=255&e;++i<r&&(s*=256);)this[t+i]=e/s&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||N(this,e,t,r,Math.pow(2,8*r),0);var s=r-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):H(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var s=Math.pow(2,8*r-1);N(this,e,t,r,s-1,-s)}var i=0,a=1,o=0>e?1:0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=(e/a>>0)-o&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var s=Math.pow(2,8*r-1);N(this,e,t,r,s-1,-s)}var i=r-1,a=1,o=0>e?1:0;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=(e/a>>0)-o&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):H(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t=0|t,r||N(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s,a=n-r;if(this===e&&t>r&&n>t)for(s=a-1;s>=0;s--)e[s+t]=this[s+r];else if(1e3>a||!i.TYPED_ARRAY_SUPPORT)for(s=0;a>s;s++)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},i.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var s=Y(e.toString()),i=s.length;for(n=t;r>n;n++)this[n]=s[n%i]}return this}};var Z=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":3,ieee754:4,isarray:5}],3:[function(e,t,r){"use strict";function n(){var e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=t.length;for(e=0;r>e;e++)l[e]=t[e];for(e=0;r>e;++e)c[t.charCodeAt(e)]=e;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63}function s(e){var t,r,n,s,i,a,o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[o-2]?2:"="===e[o-1]?1:0,a=new h(3*o/4-i),n=i>0?o-4:o;var l=0;for(t=0,r=0;n>t;t+=4,r+=3)s=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[l++]=(16711680&s)>>16,a[l++]=(65280&s)>>8,a[l++]=255&s;return 2===i?(s=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[l++]=255&s):1===i&&(s=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[l++]=s>>8&255,a[l++]=255&s),a}function i(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function a(e,t,r){for(var n,s=[],a=t;r>a;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(i(n));return s.join("")}function o(e){for(var t,r=e.length,n=r%3,s="",i=[],o=16383,c=0,h=r-n;h>c;c+=o)i.push(a(e,c,c+o>h?h:c+o));return 1===n?(t=e[r-1],s+=l[t>>2],s+=l[t<<4&63],s+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],s+=l[t>>10],s+=l[t>>4&63],s+=l[t<<2&63],s+="="),i.push(s),i.join("")}r.toByteArray=s,r.fromByteArray=o;var l=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},{}],4:[function(e,t,r){r.read=function(e,t,r,n,s){var i,a,o=8*s-n-1,l=(1<<o)-1,c=l>>1,h=-7,p=r?s-1:0,u=r?-1:1,d=e[t+p];for(p+=u,i=d&(1<<-h)-1,d>>=-h,h+=o;h>0;i=256*i+e[t+p],p+=u,h-=8);for(a=i&(1<<-h)-1,i>>=-h,h+=n;h>0;a=256*a+e[t+p],p+=u,h-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},r.write=function(e,t,r,n,s,i){var a,o,l,c=8*i-s-1,h=(1<<c)-1,p=h>>1,u=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,f=n?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+p>=1?u/l:u*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=h?(o=0,a=h):a+p>=1?(o=(t*l-1)*Math.pow(2,s),a+=p):(o=t*Math.pow(2,p-1)*Math.pow(2,s),a=0));s>=8;e[r+d]=255&o,d+=f,o/=256,s-=8);for(a=a<<s|o,c+=s;c>0;e[r+d]=255&a,d+=f,a/=256,c-=8);e[r+d-f]|=128*m}},{}],5:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],6:[function(e,t,r){t.exports=function(t,r,n,s){"use strict;";var i=this,a="apg-exp: ",o=a,l=e("apg-lib"),c=e("./exec.js"),h=e("./replace.js"),p=e("./result.js"),u=e("./split.js"),d=e("./flags.js"),f=e("./sabnf-generator.js"),m={writable:!1,enumerable:!1,configurable:!0},g={_this:this,grammarObject:null,ruleNames:[],str:null,chars:null,parser:null,result:null,charsToString:null,match:function(e){return e===l.ids.MATCH||e===l.ids.EMPTY}},b=function(e,t,r){this.message=e,this.name="ApgExpError";var n=t,s=r;this.toText=function(){var e="";return e+=this.message,e+="\n",n&&(e+=n),e},this.toHtml=function(){var e="";return e+="<h3>"+l.utils.stringToAsciiHtml(this.message)+"</h3>",e+="\n",s&&(e+=s),e}};b.prototype=new Error;var y=function(e){for(var t=[],r=null,n=0;n<g.grammarObject.udts.length;n+=1){var s=g.grammarObject.udts[n].lower;"function"!=typeof g.parser.callbacks[s]&&t.push(g.ruleNames[s])}return t.length>0&&(r="undefined UDT callback functions: "+t),r};o=a+"constructor: ";var x=null,k=null;try{for(;;){if(x=d(this,r)){x=new b(x);break}if("string"==typeof t){if(this.source=t,k=f(t),k.error){x=new b(k.error,k.text,k.html);break}g.grammarObject=k.obj}else{if("object"!=typeof t||"string"!=typeof t.grammarObject||"grammarObject"!==t.grammarObject){x=new b(a+"invalid SABNF grammar input"),this.source="";break}g.grammarObject=t,this.source=g.grammarObject.toString()}Object.defineProperty(this,"source",m),g.charsToString=l.utils.charsToString,g.parser=new l.parser,this.ast=new l.ast,this.trace=this.debug?new l.trace:null;for(var T=0;T<g.grammarObject.rules.length;T+=1){var S=g.grammarObject.rules[T];g.ruleNames[S.lower]=S.name,g.parser.callbacks[S.lower]=!1,this.ast.callbacks[S.lower]=!0}for(var T=0;T<g.grammarObject.udts.length;T+=1){var S=g.grammarObject.udts[T];g.ruleNames[S.lower]=S.name,g.parser.callbacks[S.lower]=!1,this.ast.callbacks[S.lower]=!0}if("number"==typeof n){if(this.nodeHits=Math.floor(n),!(this.nodeHits>0)){x=new b(a+"nodeHits must be integer > 0: "+n),this.nodeHits=1/0;break}g.parser.setMaxNodeHits(this.nodeHits)}else this.nodeHits=1/0;if("number"==typeof s){if(this.treeDepth=Math.floor(s),!(this.treeDepth>0)){x=new b(a+"treeDepth must be integer > 0: "+s),this.treeDepth=1/0;break}g.parser.setMaxTreeDepth(this.treeDepth)}else this.treeDepth=1/0;Object.defineProperty(this,"nodeHits",m),Object.defineProperty(this,"treeDepth",m),this.lastIndex=0;break}}catch(E){x=new b(E.name+": "+E.message)}if(x)throw x;this.exec=function(e){var t,r=null;if(o=a="exec(): ","string"==typeof e)g.str=e,g.chars=l.utils.stringToChars(e);else{if(!Array.isArray(e))return r;g.str=null,g.chars=e}if(g.parser.ast=this.ast,g.parser.trace=this.trace,t=y(o))throw new b(o+t);return r=this.sticky?c.execAnchor(g):c.execForward(g)},this.test=function(e){var t,r=null;if(o=a+"test(): ","string"==typeof e)g.str=e,g.chars=l.utils.stringToChars(e);else{if(!Array.isArray(e))return r;g.str=null,g.chars=e}if(g.parser.ast=null,g.parser.trace=null,this.ast=null,this.trace=null,t=y(o))throw new b(o+t);return r=this.sticky?c.testAnchor(g):c.testForward(g)},this.replace=function(e,t){if(o=a+"replace(): ",this.unicode)throw new b(o+"cannot do string replacement in 'unicode' mode. Insure that 'u' flag is absent.");if("string"!=typeof e)throw new b(o+"input type error: str not a string");if("string"==typeof t)return h.replaceString(g,e,t);if("function"==typeof t)return h.replaceFunction(g,e,t);throw new b(o+"input type error: replacement not a string or function")},this.split=function(e,t){if(o=a+"split(): ",this.unicode)throw new b(o+"cannot do string split in 'unicode' mode. Insure that 'u' flag is absent.");if(void 0===e||null===e||""===e)return[""];if("string"!=typeof e)throw new b(o+"argument must be a string: typeof(arg): "+typeof e);if("number"!=typeof t)t=1/0;else if(t=Math.floor(t),0>=t)throw new b(o+"limit must be >= 0: limit: "+t);return u.split(g,e,t)},this.include=function(e){if(o=a+"include(): ",void 0===e||null==e||"string"==typeof e&&"all"===e.toLowerCase())for(var t in g.grammarObject.callbacks)i.ast.callbacks[t]=!0;else{if(!Array.isArray(e))throw new b(o+"unrecognized list type");for(var t in g.grammarObject.callbacks)i.ast.callbacks[t]=!1;for(var r=0;r<e.length;r+=1){var n=e[r];if("string"!=typeof n)throw new b(o+"invalid name type in list");if(n=n.toLowerCase(),void 0===i.ast.callbacks[n])throw new b(o+"unrecognized name in list: "+e[r]);i.ast.callbacks[n]=!0}}},this.exclude=function(e){if(o=a+"exclude(): ",void 0===e||null==e||"string"==typeof e&&"all"===e.toLowerCase())for(var t in g.grammarObject.callbacks)i.ast.callbacks[t]=!1;else{if(!Array.isArray(e))throw new b(o+"unrecognized list type");for(var t in g.grammarObject.callbacks)i.ast.callbacks[t]=!0;for(var r=0;r<e.length;r+=1){var n=e[r];if("string"!=typeof n)throw new b(o+"invalid name type in list");if(n=n.toLowerCase(),void 0===i.ast.callbacks[n])throw new b(o+"unrecognized name in list: "+e[r]);i.ast.callbacks[n]=!1}}},this.defineUdt=function(e,t){if(o=a+"defineUdt(): ","string"!=typeof e)throw new b(o+"'name' must be a string");if("function"!=typeof t)throw new b(o+"'func' must be a function reference");for(var r=e.toLowerCase(),n=0;n<g.grammarObject.udts.length;n+=1)if(g.grammarObject.udts[n].lower===r)return void(g.parser.callbacks[r]=t);throw new b(o+"'name' not a UDT name: "+e)},this.maxCallStackDepth=function(){try{return 1+this.maxCallStackDepth()}catch(e){return 1}},this.toText=function(e){return this.unicode?p.u.expToText(this,e):p.s.expToText(this)},this.toHtml=function(e){return this.unicode?p.u.expToHtml(this,e):p.s.expToHtml(this)},this.toHtmlPage=function(e){return this.unicode?p.u.expToHtmlPage(this,e):p.s.expToHtmlPage(this)},this.sourceToText=function(){return p.s.sourceToText(this)},this.sourceToHtml=function(){return p.s.sourceToHtml(this)},this.sourceToHtmlPage=function(){return p.s.sourceToHtmlPage(this)}}},{"./exec.js":8,"./flags.js":9,"./replace.js":12,"./result.js":13,"./sabnf-generator.js":14,"./split.js":15,"apg-lib":18}],7:[function(e,t,r){!function(){this.ApgExp=e("./apg-exp.js"),this.apglib=e("apg-lib")}()},{"./apg-exp.js":6,"apg-lib":18}],8:[function(e,t,r){"use strict;";var n=e("./result.js"),s=function(e,t){t=t===!0;var r=e._this,n={writable:t,enumerable:!1,configurable:!0};Object.defineProperty(r,"input",n),Object.defineProperty(r,"leftContext",n),Object.defineProperty(r,"lastMatch",n),Object.defineProperty(r,"rightContext",n),Object.defineProperty(r,"$_",n),Object.defineProperty(r,"$`",n),Object.defineProperty(r,"$&",n),Object.defineProperty(r,"$'",n),n.enumerable=!0,Object.defineProperty(r,"rules",n),r.rules||(r.rules=[]);for(var s in r.rules){var i="${"+s+"}";Object.defineProperty(r,i,n),Object.defineProperty(r.rules,s,n)}},i=function(e){var t=e.chars,r=e.result,s={index:r.index,length:r.length,input:e.charsToString(t,0),treeDepth:r.treeDepth,nodeHits:r.nodeHits,rules:[],toText:function(){return n.s.resultToText(this)},toHtml:function(){return n.s.resultToHtml(this)},toHtmlPage:function(){return n.s.resultToHtmlPage(this)}};s[0]=e.charsToString(e.chars,r.index,r.length);for(var i in r.rules){var a=r.rules[i];if(a){s.rules[i]=[];for(var o=0;o<a.length;o+=1)s.rules[i][o]={index:a[o].index,phrase:e.charsToString(t,a[o].index,a[o].length)}}else s.rules[i]=void 0}return s},a=function(e){var t,r,s=e.chars,i=e.result,a={index:i.index,length:i.length,input:s.slice(0),treeDepth:i.treeDepth,nodeHits:i.nodeHits,rules:[],toText:function(e){return n.u.resultToText(this,e)},toHtml:function(e){return n.u.resultToHtml(this,e)},toHtmlPage:function(e){return n.u.resultToHtmlPage(this,e)}};t=i.index,r=t+i.length,a[0]=s.slice(t,r);for(var o in i.rules){var l=i.rules[o];if(l){a.rules[o]=[];for(var c=0;c<l.length;c+=1)t=l[c].index,r=t+l[c].length,a.rules[o][c]={index:t,phrase:s.slice(t,r)}}else a.rules[o]=void 0}return a},o=function(e,t){var r,n=e._this;n.lastMatch=t[0],r=e.chars.slice(0,e.result.index),n.leftContext=e.charsToString(r,0),r=e.chars.slice(t.index+t.length),n.rightContext=e.charsToString(r,0),n.input=t.input.slice(0),n.$_=n.input,n["$&"]=n.lastMatch,n["$`"]=n.leftContext,n["$'"]=n.rightContext,n.rules={};for(var s in t.rules){var i=t.rules[s];i?n.rules[s]=i[i.length-1].phrase:n.rules[s]=void 0,n["${"+s+"}"]=n.rules[s]}},l=function(e,t){var r,n,s=e._this,i=e.chars;r=0,n=r+t.index,s.leftContext=i.slice(r,n),s.lastMatch=t[0].slice(0),r=t.index+t.length,s.rightContext=i.slice(r),s.input=t.input.slice(0),s.$_=s.input,s["$&"]=s.lastMatch,s["$`"]=s.leftContext,s["$'"]=s.rightContext,s.rules={};for(var a in t.rules){var o=t.rules[a];o?s.rules[a]=o[o.length-1].phrase:s.rules[a]=void 0,s["${"+a+"}"]=s.rules[a]}},c=function(e,t){var r;e._this;e.result={index:t.index,length:t.length,treeDepth:t.treeDepth,nodeHits:t.nodeHits,rules:[]};var n=e.parser.ast.phrases();for(var c in e._this.ast.callbacks){var h=e.ruleNames[c];if(e._this.ast.callbacks[c]){var h=e.ruleNames[c];Array.isArray(n[h])?e.result.rules[h]=n[h]:e.result.rules[h]=void 0}}return s(e,!0),e._this.unicode?(r=a(e),l(e,r)):(r=i(e),o(e,r)),s(e,!1),r},h=function(){return{success:!1}},p=function(e,t){return{success:!0,index:e,length:t.matched,treeDepth:t.maxTreeDepth,nodeHits:t.nodeHits}},u=function(e){for(var t=h(),r=e._this.lastIndex;r<e.chars.length;r+=1){var n=e.parser.parseSubstring(e.grammarObject,0,e.chars,r,e.chars.length-r);if(e.match(n.state)){t=p(r,n);break}}return t},d=function(e,t,r){return t?r.success?r.index+r.length:0:e},f=function(e){var t=h();if(e._this.lastIndex<e.chars.length){var r=e.parser.parseSubstring(e.grammarObject,0,e.chars,e._this.lastIndex,e.chars.length-e._this.lastIndex);e.match(r.state)&&(t=p(e._this.lastIndex,r))}return t};r.execForward=function(e){var t=u(e),r=null;return t.success&&(r=c(e,t)),e._this.lastIndex=d(e._this.lastIndex,e._this.global,t),r},r.execAnchor=function(e){var t=f(e),r=null;return t.success&&(r=c(e,t)),e._this.lastIndex=d(e._this.lastIndex,e._this.sticky,t),r},r.testForward=function(e){var t=u(e);return e._this.lastIndex=d(e._this.lastIndex,e._this.global,t),t.success},r.testAnchor=function(e){var t=f(e);return e._this.lastIndex=d(e._this.lastIndex,e._this.sticky,t),t.success}},{"./result.js":13}],9:[function(e,t,r){"use strict;";t.exports=function(e,t){var r="apg-exp: constructor: flags: ",n=null,s={writable:!1,enumerable:!1,configurable:!0};for(e.flags="",e.global=!1,e.sticky=!1,e.unicode=!1,e.debug=!1;;){if("undefined"==typeof t||null===t)break;if("string"!=typeof t){n=r+"Invalid flags supplied to constructor: must be null, undefined or string: '"+typeof t+"'";break}if(""===t)break;for(var i=t.toLowerCase().split(""),a=0;a<i.length;a+=1)switch(i[a]){case"d":e.debug=!0;break;case"g":e.global=!0;break;case"u":e.unicode=!0;break;case"y":e.sticky=!0;break;default:return n=r+"Invalid flags supplied to constructor: '"+t+"'"}e.debug&&(e.flags+="d"),e.global&&(e.flags+="g"),e.unicode&&(e.flags+="u"),e.sticky&&(e.flags+="y");break}return Object.defineProperty(e,"flags",s),Object.defineProperty(e,"global",s),Object.defineProperty(e,"debug",s),Object.defineProperty(e,"unicode",s),Object.defineProperty(e,"sticky",s),n}},{}],10:[function(e,t,r){"use strict;";var n="apgex: replace(): ",s=function(e,t,r,n){if(n.isMatch(e.state)){var s=n.charsToString(t,r,e.phraseLength);n.items.push({type:"error",index:r,length:e.phraseLength,error:s}),n.errors+=1,n.count+=1}},i=function(e,t,r,n){n.isMatch(e.state)&&(n.items.push({type:"escape",index:r,length:e.phraseLength}),n.escapes+=1,n.count+=1)},a=function(e,t,r,n){n.isMatch(e.state)&&(n.items.push({type:"match",index:r,length:e.phraseLength}),n.matches+=1,n.count+=1)},o=function(e,t,r,n){n.isMatch(e.state)&&(n.items.push({type:"prefix",index:r,length:e.phraseLength}),n.prefixes+=1,n.count+=1)},l=function(e,t,r,n){n.isMatch(e.state)&&(n.items.push({type:"suffix",index:r,length:e.phraseLength}),n.suffixes+=1,n.count+=1)},c=function(e,t,r,n){n.isMatch(e.state)&&(n.items.push({type:"name",index:r,length:e.phraseLength,name:n.name}),n.names+=1,n.count+=1)},h=function(e,t,r,n){if(n.isMatch(e.state)){var s=n.charsToString(t,r,e.phraseLength),i=t.slice(r,r+e.phraseLength);n.name={nameString:s,nameChars:i}}};t.exports=function(t,r){var p=new(e("./replace-grammar.js")),u=e("apg-lib"),d=new u.parser,f={name:"",count:0,errors:0,escapes:0,prefixes:0,matches:0,suffixes:0,
names:0,isMatch:t.match,charsToString:u.utils.charsToString,items:[]};d.callbacks.error=s,d.callbacks.escape=i,d.callbacks.prefix=o,d.callbacks.match=a,d.callbacks.suffix=l,d.callbacks.xname=c,d.callbacks.name=h;var m=u.utils.stringToChars(r),g=d.parse(p,0,m,f);if(!g.success)throw new Error(n+"unexpected error parsing replacement string");var b=f.items;if(f.errors>0){for(var y="[",x=0,k=0;x<f.items.length;x+=1){var T=f.items[x];"error"===T.type&&(y+=k>0?", "+T.error:T.error,k+=1)}throw y+="]",new Error(n+"special character sequences ($...) errors: "+y)}if(f.names>0){for(var S=[],x=0;x<f.items.length;x+=1){var T=f.items[x];if("name"===T.type){var E=T.name.nameString,A=E.toLowerCase();t.parser.ast.callbacks[A]||S.push(E),T.name.nameString=A}}if(S.length>0){for(var y="[",x=0;x<S.length;x+=1)y+=x>0?", "+S[x]:S[x];throw y+="]",new Error(n+"special character sequences ${name}: names not found: "+y)}}return b}},{"./replace-grammar.js":11,"apg-lib":18}],11:[function(e,t,r){t.exports=function(){"use strict";this.callbacks=[],this.callbacks.alpha=!1,this.callbacks["any-other"]=!1,this.callbacks.digit=!1,this.callbacks.error=!1,this.callbacks.escape=!1,this.callbacks.match=!1,this.callbacks.name=!1,this.callbacks.prefix=!1,this.callbacks.rule=!1,this.callbacks.suffix=!1,this.callbacks.xname=!1,this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"rule",lower:"rule",index:0,isBkr:!1},this.rules[1]={name:"error",lower:"error",index:1,isBkr:!1},this.rules[2]={name:"escape",lower:"escape",index:2,isBkr:!1},this.rules[3]={name:"match",lower:"match",index:3,isBkr:!1},this.rules[4]={name:"prefix",lower:"prefix",index:4,isBkr:!1},this.rules[5]={name:"suffix",lower:"suffix",index:5,isBkr:!1},this.rules[6]={name:"xname",lower:"xname",index:6,isBkr:!1},this.rules[7]={name:"name",lower:"name",index:7,isBkr:!1},this.rules[8]={name:"alpha",lower:"alpha",index:8,isBkr:!1},this.rules[9]={name:"digit",lower:"digit",index:9,isBkr:!1},this.rules[10]={name:"any-other",lower:"any-other",index:10,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:2,children:[2,4]},this.rules[0].opcodes[2]={type:3,min:0,max:1/0},this.rules[0].opcodes[3]={type:4,index:10},this.rules[0].opcodes[4]={type:3,min:0,max:1},this.rules[0].opcodes[5]={type:1,children:[6,7,8,9,10,11]},this.rules[0].opcodes[6]={type:4,index:2},this.rules[0].opcodes[7]={type:4,index:3},this.rules[0].opcodes[8]={type:4,index:4},this.rules[0].opcodes[9]={type:4,index:5},this.rules[0].opcodes[10]={type:4,index:6},this.rules[0].opcodes[11]={type:4,index:1},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:7,string:[36]},this.rules[1].opcodes[2]={type:4,index:10},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:7,string:[36,36]},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:7,string:[36,38]},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:7,string:[36,96]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:7,string:[36,39]},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:2,children:[1,2,3]},this.rules[6].opcodes[1]={type:7,string:[36,123]},this.rules[6].opcodes[2]={type:4,index:7},this.rules[6].opcodes[3]={type:7,string:[125]},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:2,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:8},this.rules[7].opcodes[2]={type:3,min:0,max:1/0},this.rules[7].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[7].opcodes[4]={type:4,index:8},this.rules[7].opcodes[5]={type:4,index:9},this.rules[7].opcodes[6]={type:6,string:[45]},this.rules[7].opcodes[7]={type:6,string:[95]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:1,children:[1,2]},this.rules[8].opcodes[1]={type:5,min:97,max:122},this.rules[8].opcodes[2]={type:5,min:65,max:90},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:5,min:48,max:57},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:1,children:[1,2,3]},this.rules[10].opcodes[1]={type:5,min:32,max:35},this.rules[10].opcodes[2]={type:5,min:37,max:65535},this.rules[10].opcodes[3]={type:5,min:10,max:13},this.toString=function(){var e="";return e+=";\n",e+="; SABNF grammar for parsing out the replacement string parameters\n",e+=";\n",e+="rule = *(*any-other [(escape / match / prefix/ suffix/ xname / error)])\n",e+='error = "$" any-other\n',e+='escape = "$$"\n',e+='match  = "$&"\n',e+='prefix = "$`"\n',e+='suffix = "$\'"\n',e+='xname = "${" name "}"\n',e+="name = alpha *(alpha/digit/%d45/%d95)\n",e+="alpha = %d97-122 / %d65-90\n",e+="digit = %d48-57\n",e+="any-other = %x20-23 / %x25-FFFF / %xA-D\n"}}},{}],12:[function(e,t,r){"use strict;";var n="apg-exp: replace(): ",s=(e("apg-lib"),new(e("./replace-grammar.js")),e("./parse-replacement.js")),i=function(e,t,r){var s=e._this;if(0===r.length)return t;var i,a,o=t.slice(0);return r.reverse(),r.forEach(function(t){switch(i=o.slice(0,t.index),a=o.slice(t.index+t.length),t.type){case"escape":o=i.concat("$",a);break;case"prefix":o=i.concat(s.leftContext,a);break;case"match":o=i.concat(s.lastMatch,a);break;case"suffix":o=i.concat(s.rightContext,a);break;case"name":var r=e.ruleNames[t.name.nameString];o=i.concat(s.rules[r],a);break;default:throw new Error(n+"generateREplacementString(): unrecognized item type: "+t.type)}}),o},a=function(e){var t={};t.ast=e.ast,t.input=e.input,t.leftContext=e.leftContext,t.lastMatch=e.lastMatch,t.rightContext=e.rightContext,t.$_=e.input,t["$`"]=e.leftContext,t["$&"]=e.lastMatch,t["$'"]=e.rightContext,t.rules=[];for(name in e.rules){var r="${"+name+"}";t[r]=e[r],t.rules[name]=e.rules[name]}return t},o=function(e,t,r){var n=e._this.exec(t);if(null===n)return t;rstr=r(n,a(e._this));var s=e._this.leftContext.concat(rstr,e._this.rightContext);return s},l=function(e,t,r){for(var n=e._this,s=t.slice(0);;){var i=n.exec(s);if(null===i)break;var o=r(i,a(n));s=n.leftContext.concat(o,n.rightContext),n.lastIndex=n.leftContext.length+o.length,0===i[0].length&&(n.lastIndex+=1)}return s},c=function(e,t,r){var n=e._this,a=n.exec(t);if(null===a)return t;var o=s(e,r);r=i(e,r,o);var l=n.leftContext.concat(r,n.rightContext);return l},h=function(e,t,r){for(var n=e._this,a=t.slice(0),o=null;;){var l=n.exec(a);if(null==l)break;null===o&&(o=s(e,r));var c=i(e,r,o);a=n.leftContext.concat(c,n.rightContext),n.lastIndex=n.leftContext.length+c.length,0===l[0].length&&(n.lastIndex+=1)}return a};r.replaceString=function(e,t,r){return e._this.global||e._this.sticky?h(e,t,r):c(e,t,r)},r.replaceFunction=function(e,t,r){return e._this.global||e._this.sticky?l(e,t,r):o(e,t,r)}},{"./parse-replacement.js":10,"./replace-grammar.js":11,"apg-lib":18}],13:[function(e,t,r){"use strict;";var n=e("apg-lib"),s=n.utils,i=s.styleNames,a=16,o=10,l=8,c=32,h=function(e,t){if(""===e)return'<span class="'+i.CLASS_EMPTY+'">&#120634;</span>';if(void 0===e)return'<span class="'+i.CLASS_REMAINDER+'">undefined</span>';var r=i.CLASS_REMAINDER;"string"==typeof t&&("match"===t.toLowerCase()?r=i.CLASS_MATCH:"nomatch"===t.toLowerCase()&&(r=i.CLASS_NOMATCH));var s=n.utils.stringToChars(e),a='<span class="'+r+'">';return a+=n.utils.charsToAsciiHtml(s),a+"</span>"},p=function(e){var t="";t+="    result:\n",t+="       [0]: ",t+=e[0],t+="\n",t+="     input: "+e.input,t+="\n",t+="     index: "+e.index,t+="\n",t+="    length: "+e.length,t+="\n",t+="tree depth: "+e.treeDepth,t+="\n",t+=" node hits: "+e.nodeHits,t+="\n",t+="     rules: ";var r="",n="          : ",s=e.rules;for(var i in s){var a=s[i];if(a)for(var o=0;o<a.length;o+=1){var l=a[o];t+=r+i+" : "+l.index+": ",t+=l.phrase,t+="\n",r=n}else t+=r+i+": ",t+="undefined",t+="\n";r=n}return t},u=function(e){var t="",r="result:";t+='<table class="'+i.CLASS_LEFT_TABLE+'">\n',t+="<caption>"+r+"</caption>\n",t+="<tr>",t+="<th>item</th><th>value</th><th>phrase</th>",t+="</tr>\n",t+="<tr>",t+="<td>[0]</td>",t+="<td>"+e.index+"</td>",t+="<td>"+h(e[0],"match")+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>input</td>",t+="<td>0</td>",t+="<td>"+h(e.input)+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>index</td><td>"+e.index+"</td>",t+="<td></td>",t+="</tr>\n",t+="<tr>",t+="<td>length</td><td>"+e.length+"</td>",t+="<td></td>",t+="</tr>\n",t+="<tr>",t+="<td>tree depth</td><td>"+e.treeDepth+"</td>",t+="<td></td>",t+="</tr>\n",t+="<tr>",t+="<td>node hits</td><td>"+e.nodeHits+"</td>",t+="<td></td>",t+="</tr>\n",t+="<tr>",t+="<th>rules</th><th>index</th><th>phrase</th>",t+="</tr>\n";var n=e.rules;for(var s in n){var a=n[s];if(a)for(var o=0;o<a.length;o+=1){var l=a[o];t+="<tr>",t+="<td>"+s+"</td>",t+="<td>"+l.index+"</td>",t+="<td>"+h(l.phrase,"match")+"</td>",t+="\n"}else t+="<tr>",t+="<td>"+s+"</td>",t+="<td></td>",t+="<td>"+h(void 0)+"</td>",t+="\n"}return t+="</table>\n"},d=function(e){return s.htmlToPage(u(e),"apg-exp result")},f=function(e){var t="";if(t+="  last match:\n",t+="   lastIndex: ",t+=e.lastIndex,t+="\n",t+='       flags: "',t+=e.flags+'"',t+="\n",t+="      global: ",t+=e.global,t+="\n",t+="      sticky: ",t+=e.sticky,t+="\n",t+="     unicode: ",t+=e.unicode,t+="\n",t+="       debug: ",t+=e.debug,t+="\n",void 0===e["$&"])return t+="   last match: undefined",t+="\n";t+="       input: ",t+=e.input,t+="\n",t+=" leftContext: ",t+=e.leftContext,t+="\n",t+="   lastMatch: ",t+=e.lastMatch,t+="\n",t+="rightContext: ",t+=e.rightContext,t+="\n",t+="       rules: ";var r="",n="            : ";for(var s in e.rules)t+=r+s+" : ",t+=e.rules[s],t+="\n",r=n;t+="\n",t+="alias:\n",t+=' ["$_"]: ',t+=e.$_,t+="\n",t+=' ["$`"]: ',t+=e["$`"],t+="\n",t+=' ["$&"]: ',t+=e["$&"],t+="\n",t+=' ["$\'"]: ',t+=e["$'"],t+="\n";for(var s in e.rules)t+=' ["${'+s+'}"]: ',t+=e["${"+s+"}"],t+="\n";return t},m=function(e){var t="",r="last match:";if(t+='<table class="'+i.CLASS_LEFT_TABLE+'">\n',t+="<caption>"+r+"</caption>\n",t+="<tr>",t+="<th>item</th><th>value</th>",t+="</tr>\n",t+="<tr>",t+="<td>lastIndex</td>",t+="<td>"+e.lastIndex+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>flags</td>",t+="<td>&#34;"+e.flags+"&#34;</td>",t+="</tr>\n",t+="<tr>",t+="<td>global</td>",t+="<td>"+e.global+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>sticky</td>",t+="<td>"+e.sticky+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>unicode</td>",t+="<td>"+e.unicode+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>debug</td>",t+="<td>"+e.debug+"</td>",t+="</tr>\n",void 0===e["$&"])return t+="<tr>",t+="<td>lastMatch</td>",t+="<td>"+h(void 0)+"</td>",t+="</tr>\n",t+="</table>\n";t+="<th>item</th><th>phrase</th>",t+="</tr>\n",t+="<tr>",t+="<td>input</td>",t+="<td>"+h(e.input)+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>leftContext</td>",t+="<td>"+h(e.leftContext)+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>lastMatch</td>",t+="<td>"+h(e.lastMatch,"match")+"</td>",t+="</tr>\n",t+="<tr>",t+="<td>rightContext</td>",t+="<td>"+h(e.rightContext)+"</td>",t+="</tr>\n",t+="<tr>",t+="<th>rule</th><th>phrase</th>",t+="</tr>\n";for(var n in e.rules)t+="<tr>",t+="<td>"+n+"</td>",t+="<td>"+h(e.rules[n])+"</td>",t+="</tr>\n";t+="<tr>",t+="<th>alias</th><th>phrase</th>",t+="</tr>\n",t+="<tr>",t+='<td>["$_"]</td>',t+="<td>"+h(e.$_)+"</td>",t+="</tr>\n",t+="<tr>",t+='<td>["$`"]</td>',t+="<td>"+h(e["$`"])+"</td>",t+="</tr>\n",t+="<tr>",t+='<td>["$&"]</td>',t+="<td>"+h(e["$&"],"match")+"</td>",t+="</tr>\n",t+="<tr>",t+='<td>["$\'"]</td>',t+="<td>"+h(e["$'"])+"</td>",t+="</tr>\n";for(var n in e.rules)t+="<tr>",t+='<td>["${'+n+'}"]</td>',t+="<td>"+h(e["${"+n+"}"])+"</td>",t+="</tr>\n";return t+="</table>\n"},g=function(e){return s.htmlToPage(m(e),"apg-exp last result")},b=function(e){var t=l;if("string"==typeof e&&e.length>=3){var r=e.toLowerCase().slice(0,3);"hex"===r?t=a:"dec"===r?t=o:"uni"===r&&(t=c)}return t},y=function(e){var t;switch(e){case l:t="ascii";break;case a:t="hexidecimal";break;case o:t="decimal";break;case c:t="Unicode"}return t},x=function(e){var t=e.toString(16);return t.length%2!==0&&(t="0"+t),t},k=function(e,t){var r="";if(t===l)r+=n.utils.charsToString(e);else if(t===o){if(r+="[",e.length>0){r+=e[0];for(var s=1;s<e.length;s+=1)r+=","+e[s]}r+="]"}else if(t===a){if(r+="[",e.length>0){r+="\\x"+x(e[0]);for(var s=1;s<e.length;s+=1)r+=",\\x"+x(e[s])}r+="]"}else if(t===c){if(r+="[",e.length>0){r+="\\u"+x(e[0]);for(var s=1;s<e.length;s+=1)r+=",\\u"+x(e[s])}r+="]"}return r},T=function(e,t){t=b(t);var r="";r+="    result("+y(t)+")\n",r+="       [0]: ",r+=k(e[0],t),r+="\n",r+="     input: "+k(e.input,t),r+="\n",r+="     index: "+e.index,r+="\n",r+="    length: "+e.length,r+="\n",r+="tree depth: "+e.treeDepth,r+="\n",r+=" node hits: "+e.nodeHits,r+="\n",r+="     rules: ",r+="\n";var n=e.rules;for(var s in n){var i=n[s];if(i)for(var a=0;a<i.length;a+=1){var o=i[a];r+="          :"+s+" : "+o.index+": ",r+=k(o.phrase,t),r+="\n"}else r+="          :"+s+": ",r+="undefined",r+="\n"}return r},S=function(e,t){t=b(t);var r="",n="result:";n+="("+y(t)+")",r+='<table class="'+i.CLASS_LEFT_TABLE+'">\n',r+="<caption>"+n+"</caption>\n",r+="<tr>",r+="<th>item</th><th>value</th><th>phrase</th>",r+="</tr>\n",r+="<tr>",r+="<td>[0]</td>",r+="<td>"+e.index+"</td>",r+="<td>"+h(k(e[0],t),"match")+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>input</td>",r+="<td>0</td>",r+="<td>"+h(k(e.input,t))+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>index</td><td>"+e.index+"</td>",r+="<td></td>",r+="</tr>\n",r+="<tr>",r+="<td>length</td><td>"+e.length+"</td>",r+="<td></td>",r+="</tr>\n",r+="<tr>",r+="<td>tree depth</td><td>"+e.treeDepth+"</td>",r+="<td></td>",r+="</tr>\n",r+="<tr>",r+="<td>node hits</td><td>"+e.nodeHits+"</td>",r+="<td></td>",r+="</tr>\n",r+="<tr>",r+="<th>rules</th><th>index</th><th>phrase</th>",r+="</tr>\n";var s=e.rules;for(var a in s){var o=s[a];if(o)for(var l=0;l<o.length;l+=1){var c=o[l];r+="<tr>",r+="<td>"+a+"</td>",r+="<td>"+c.index+"</td>",r+="<td>"+h(k(c.phrase,t),"match")+"</td>",r+="\n"}else r+="<tr>",r+="<td>"+a+"</td>",r+="<td></td>",r+="<td>"+h(void 0)+"</td>",r+="\n"}return r+="</table>\n"},E=function(e,t){return s.htmlToPage(S(e,t))},A=function(e,t){t=b(t);var r="";if(r+="  last match("+y(t)+")\n",r+="   lastIndex: "+e.lastIndex,r+="\n",r+='       flags: "'+e.flags+'"',r+="\n",r+="      global: "+e.global,r+="\n",r+="      sticky: "+e.sticky,r+="\n",r+="     unicode: "+e.unicode,r+="\n",r+="       debug: "+e.debug,r+="\n",void 0===e["$&"])return r+="   lastMatch: undefined",r+="\n";r+="       input: ",r+=k(e.input,t),r+="\n",r+=" leftContext: ",r+=k(e.leftContext,t),r+="\n",r+="   lastMatch: ",r+=k(e.lastMatch,t),r+="\n",r+="rightContext: ",r+=k(e.rightContext,t),r+="\n",r+="       rules:";var n="",s="            :";for(var i in e.rules)r+=n+i+" : ",r+=e.rules[i]?k(e.rules[i],t):"undefined",r+="\n",n=s;r+="\n",r+="  alias:\n",r+="   [$_]: ",r+=k(e.$_,t),r+="\n",r+="   [$`]: ",r+=k(e["$`"],t),r+="\n",r+="   [$&]: ",r+=k(e["$&"],t),r+="\n",r+="   [$']: ",r+=k(e["$'"],t),r+="\n";for(var i in e.rules)r+="   [${"+i+"}]: ",r+=e["${"+i+"}"]?k(e["${"+i+"}"],t):"undefined",r+="\n";return r},w=function(e,t){t=b(t);var r="",n="last match:";if(n+="("+y(t)+")",r+='<table class="'+i.CLASS_LEFT_TABLE+'">\n',r+="<caption>"+n+"</caption>\n",r+="<tr>",r+="<th>item</th><th>value</th>",r+="</tr>\n",r+="<tr>",r+="<td>lastIndex</td>",r+="<td>"+e.lastIndex+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>flags</td>",r+="<td>&#34;"+e.flags+"&#34;</td>",r+="</tr>\n",r+="<tr>",r+="<td>global</td>",r+="<td>"+e.global+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>sticky</td>",r+="<td>"+e.sticky+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>unicode</td>",r+="<td>"+e.unicode+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>debug</td>",r+="<td>"+e.debug+"</td>",r+="</tr>\n",r+="<tr>",r+="<th>item</th><th>phrase</th>",r+="</tr>\n",void 0===e["$&"])return r+="<tr>",r+="<td>lastMatch</td>",r+="<td>"+h(void 0)+"</td>",r+="</tr>\n",r+="</table>\n";r+="<tr>",r+="<td>input</td>",r+="<td>"+h(k(e.input,t))+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>leftContext</td>",r+="<td>"+h(k(e.leftContext,t))+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>lastMatch</td>",r+="<td>"+h(k(e.lastMatch,t),"match")+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>rightContext</td>",r+="<td>"+h(k(e.rightContext,t))+"</td>",r+="</tr>\n",r+="<tr>",r+="<th>rules</th><th>phrase</th>",r+="</tr>\n";for(var s in e.rules)r+="<tr>",r+="<td>"+s+"</td>",r+=e.rules[s]?"<td>"+h(k(e.rules[s],t))+"</td>":"<td>"+h(void 0)+"</td>",r+="</tr>\n";r+="<tr>",r+="<th>alias</th><th>phrase</th>",r+="</tr>\n",r+="<tr>",r+="<td>[$_]</td>",r+="<td>"+h(k(e.$_,t))+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>[$`]</td>",r+="<td>"+h(k(e["$`"],t))+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>[$&]</td>",r+="<td>"+h(k(e["$&"],t),"match")+"</td>",r+="</tr>\n",r+="<tr>",r+="<td>[$']</td>",r+="<td>"+h(k(e["$'"],t))+"</td>",r+="</tr>\n";for(var s in e.rules)r+="<tr>",r+="<td>[${"+s+"}]</td>",r+=e["${"+s+"}"]?"<td>"+h(k(e["${"+s+"}"],t))+"</td>":"<td>"+h(void 0)+"</td>",r+="</tr>\n";return r+="</table>\n"},v=function(e,t){return s.htmlToPage(w(e,t))},C=function(e){return e.source},M=function(e){var t,r,s,i=/.*(\r\n|\n|\r)/g;for(s="<pre>\n";;){if(t=i.exec(e.source),null===t||""===t[0])break;r=n.utils.stringToChars(t[0]),s+=n.utils.charsToAsciiHtml(r),s+="\n"}return s+="</pre>\n"},L=function(e){return n.utils.htmlToPage(M(e),"apg-exp source")};t.exports={s:{resultToText:p,resultToHtml:u,resultToHtmlPage:d,expToText:f,expToHtml:m,expToHtmlPage:g,sourceToText:C,sourceToHtml:M,sourceToHtmlPage:L},u:{resultToText:T,resultToHtml:S,resultToHtmlPage:E,expToText:A,expToHtml:w,expToHtmlPage:v}}},{"apg-lib":18}],14:[function(e,t,r){"use strict;";t.exports=function(t){for(var r,n="apg-exp: generator: ",s=e("apg"),i=new s.attributes,a=new s.inputAnalysisParser,o=new s.ABNFForSABNFParser,l={obj:null,error:null,text:null,html:null};;){try{a.getString(t)}catch(c){l.error=n+c.msg;break}try{r=a.analyze()}catch(c){l.error=n+c.msg;break}if(r.hasErrors){l.error="grammar has validation errors",l.text=a.errorsToString(r.errors),l.html=a.errorsToHtml(r.errors);break}if(r=o.syntax(a),r.hasErrors){l.error="grammar has syntax errors",l.text=a.errorsToString(r.errors),l.html=a.errorsToHtml(r.errors);break}if(r=o.semantic(),r.hasErrors){l.error="grammar has semantic errors",l.text=a.errorsToString(r.errors),l.html=a.errorsToHtml(r.errors);break}var h=i.getAttributes(r.rules,r.rulesLineMap);if(h.length>0){l.error="grammar has attribute errors",l.text=a.errorsToString(h),l.html=a.errorsToHtml(h);break}l.obj=o.generateObject(r.rules,r.udts,t);break}return l}},{apg:30}],15:[function(e,t,r){"use strict;";e("apg-lib");r.split=function(e,t,r){var n,s,i,a,o,l=e._this,c=[],h=[],p=0;for(l.lastIndex=0;;){if(o=l.lastIndex,n=l.exec(t),null===n)break;if(c.push({phrase:n[0],index:n.index}),0===n[0].length?l.lastIndex=o+1:l.lastIndex=n.index+n[0].length,p+=1,p>r)break}if(0===c.length)return[t.slice(0)];if(1===c.length||c[0].phrase.length===t.length)return[""];c[0].index>0&&(i=0,a=c[0].index,h.push(t.slice(i,a))),s=c.length-1;for(var u=0;s>u;u++)i=c[u].index+c[u].phrase.length,a=c[u+1].index,h.push(t.slice(i,a));return o=c[c.length-1],i=o.index+o.phrase.length,i<t.length&&(a=t.length,h.push(t.slice(i,a))),h}},{"apg-lib":18}],16:[function(e,t,r){t.exports=function(){"use strict";function t(e){for(var t="",r=0;e>r;r+=1)t+=" ";return t}var r="ast.js: ",n=e("./identifiers.js"),s=e("./utilities.js"),i=this,a=null,o=null,l=null,c=0,h=[],p=[],u=[],d=[];this.callbacks=[],this.astObject="astObject",this.init=function(e,t,n){u.length=0,d.length=0,h.length=0,c=0,a=e,o=t,l=n;var s,f=[];for(s=0;s<a.length;s+=1)f.push(a[s].lower);for(s=0;s<o.length;s+=1)f.push(o[s].lower);for(c=a.length+o.length,s=0;c>s;s+=1)h[s]=!1,p[s]=null;for(var m in i.callbacks){var g=m.toLowerCase();if(s=f.indexOf(g),0>s)throw new Error(r+"init: node '"+m+"' not a rule or udt name");"function"==typeof i.callbacks[m]&&(h[s]=!0,p[s]=i.callbacks[m]),i.callbacks[m]===!0&&(h[s]=!0)}},this.ruleDefined=function(e){return h[e]!==!1},this.udtDefined=function(e){return h[a.length+e]!==!1},this.down=function(e,t){var r=d.length;return u.push(r),d.push({name:t,thisIndex:r,thatIndex:null,state:n.SEM_PRE,callbackIndex:e,phraseIndex:null,phraseLength:null,stack:u.length}),r},this.up=function(e,t,r,s){var i=d.length,a=u.pop();return d.push({name:t,thisIndex:i,thatIndex:a,state:n.SEM_POST,callbackIndex:e,phraseIndex:r,phraseLength:s,stack:u.length}),d[a].thatIndex=i,d[a].phraseIndex=r,d[a].phraseLength=s,i},this.translate=function(e){for(var t,r,s,i=0;i<d.length;i+=1)s=d[i],r=p[s.callbackIndex],s.state===n.SEM_PRE?null!==r&&(t=r(n.SEM_PRE,l,s.phraseIndex,s.phraseLength,e),t===n.SEM_SKIP&&(i=s.thatIndex)):null!==r&&r(n.SEM_POST,l,s.phraseIndex,s.phraseLength,e)},this.setLength=function(e){d.length=e,e>0?u.length=d[e-1].stack:u.length=0},this.getLength=function(){return d.length},this.toXml=function(e){var r=s.charsToDec,i="decimal integer character codes";"string"==typeof e&&e.length>=3&&(e=e.slice(0,3).toLowerCase(),"asc"===e?(r=s.charsToAscii,i="ASCII for printing characters, hex for non-printing"):"hex"===e?(r=s.charsToHex,i="hexidecimal integer character codes"):"uni"===e&&(r=s.charsToUnicode,i="Unicode UTF-32 integer character codes"));var a="",o=0;return a+='<?xml version="1.0" encoding="utf-8"?>\n',a+='<root nodes="'+d.length/2+'" characters="'+l.length+'">\n',a+="<!-- input string, "+i+" -->\n",a+=t(o+2),a+=r(l),a+="\n",d.forEach(function(e,s){e.state===n.SEM_PRE?(o+=1,a+=t(o),a+='<node name="'+e.name+'" index="'+e.phraseIndex+'" length="'+e.phraseLength+'">\n',a+=t(o+2),a+=r(l,e.phraseIndex,e.phraseLength),a+="\n"):(a+=t(o),a+='</node><!-- name="'+e.name+'" -->\n',o-=1)}),a+="</root>\n"},this.phrases=function(){var e,t,r={};for(e=0;e<d.length;e+=1)t=d[e],t.state===n.SEM_PRE&&(Array.isArray(r[t.name])||(r[t.name]=[]),r[t.name].push({index:t.phraseIndex,length:t.phraseLength}));return r}}},{"./identifiers.js":19,"./utilities.js":23}],17:[function(e,t,r){t.exports=function(){"use strict;";var e="circular-buffer.js: ",t=-1,r=0;this.init=function(n){if("number"!=typeof n||0>=n)throw new Error(e+"init: circular buffer size must an integer > 0");r=Math.ceil(n),t=-1},this.increment=function(){return t+=1,(t+r)%r},this.maxSize=function(){return r},this.items=function(){return t+1},this.getListIndex=function(e){return-1===t?-1:0>e||e>t?-1:t-e>=r?-1:(e+r)%r},this.forEach=function(e){if(-1!==t)if(r>t)for(var n=0;t>=n;n+=1)e(n,n);else for(var n=t-r+1;t>=n;n+=1){var s=(n+r)%r;e(s,n)}}}},{}],18:[function(e,t,r){"use strict";r.ast=e("./ast.js"),r.circular=e("./circular-buffer.js"),r.ids=e("./identifiers.js"),r.parser=e("./parser.js"),r.stats=e("./stats.js"),r.trace=e("./trace.js"),r.utils=e("./utilities.js")},{"./ast.js":16,"./circular-buffer.js":17,"./identifiers.js":19,"./parser.js":20,"./stats.js":21,"./trace.js":22,"./utilities.js":23}],19:[function(e,t,r){"use strict";t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,ATTR_NMR:403,ATTR_RMR:404,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],20:[function(e,t,r){t.exports=function(){"use strict";var t="parser.js: ",r=this,n=e("./identifiers.js"),s=e("./utilities.js");this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];var i,a,o,l,c=0,h=null,p=null,u=0,d=0,f=0,m=null,g=null,b=null,y=null,x=null,k=0,T=1/0,S=1/0,E=function(e,t,r){var s;if(e>=b.length)throw new Error(functionsName+"rule index: "+e+" out of range");if(t>=o)throw new Error(functionsName+"phrase index: "+t+" out of range");s=h.length,h.push({type:n.RNM,index:e}),le(s,t,r),h.pop()},A=function(e,t,r){var s;if(e>=y.length)throw new Error(functionsName+"udt index: "+e+" out of range");if(t>=o)throw new Error(functionsName+"phrase index: "+t+" out of range");s=h.length,h.push({type:n.UDT,empty:y[e].empty,index:e}),le(s,t,r),h.pop()},w=function(){c=0,u=0,d=0,f=0,k=0,l=[{lookAround:n.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],b=null,y=null,p=null,i=0,a=0,o=0,m=null,g=null,x=null,h=null},v=function(){var e=[],r=function(){var t={};b.forEach(function(e){e.isBkr&&(t[e.lower]=null)}),y.length>0&&y.forEach(function(e){e.isBkr&&(t[e.lower]=null)}),e.push(t)},n=function(){var t=e[e.length-1],r={};for(var n in t)r[n]=t[n];return r};this.push=function(){e.push(n())},this.pop=function(r){if(r||(r=e.length-1),1>r||r>e.length)throw new Error(t+"backRef.pop(): bad length: "+r);return e.length=r,e[e.length-1]},this.length=function(){return e.length},this.savePhrase=function(t,r,n){e[e.length-1][t]={phraseIndex:r,phraseLength:n}},this.getPhrase=function(t){return e[e.length-1][t]},r()},C=function(){var e=this;this.state=n.ACTIVE,this.phraseLength=0,this.lookAround=l[l.length-1],this.uFrame=new v,this.pFrame=new v,this.evaluateRule=E,this.evaluateUdt=A,this.refresh=function(){e.state=n.ACTIVE,e.phraseLength=0,e.lookAround=l[l.length-1]}},M=function(){return l[l.length-1]},L=function(){return l.length>1},_=function(){return l[l.length-1].lookAround===n.LOOKAROUND_BEHIND},O=function(){for(var e=t+"initializeAst(): ";;){if(void 0===r.ast){r.ast=null;break}if(null===r.ast)break;if("astObject"!==r.ast.astObject)throw new Error(e+"ast object not recognized");break}null!==r.ast&&r.ast.init(b,y,p)},R=function(){for(var e=t+"initializeTrace(): ";;){if(void 0===r.trace){r.trace=null;break}if(null===r.trace)break;if("traceObject"!==r.trace.traceObject)throw new Error(e+"trace object not recognized");break}null!==r.trace&&r.trace.init(b,y,p)},B=function(){for(var e=t+"initializeStats(): ";;){if(void 0===r.stats){r.stats=null;break}if(null===r.stats)break;if("statsObject"!==r.stats.statsObject)throw new Error(e+"stats object not recognized");break}null!==r.stats&&r.stats.init(b,y)},N=function(e){var r=t+"initializeGrammar(): ";if(void 0===e||null===e)throw new Error(r+"grammar object undefined");if("grammarObject"!==e.grammarObject)throw new Error(r+"bad grammar object");b=e.rules,y=e.udts},P=function(e){var r=t+"initializeStartRule(): ",n=null;if("number"==typeof e){if(e>=b.length)throw new Error(r+"start rule index too large: max: "+b.length+": index: "+e);n=e}else{if("string"!=typeof e)throw new Error(r+"type of start rule '"+typeof e+"' not recognized");for(var s=e.toLowerCase(),i=0;i<b.length;i+=1)if(s===b[i].lower){n=b[i].index;break}if(null===n)throw new Error(r+"start rule name '"+e+"' not recognized")}return n},H=function(e,r,n){var l=t+"initializeInputChars(): ";if(void 0===e)throw new Error(l+"input string is undefined");if(null===e)throw new Error(l+"input string is null");if("string"==typeof e)e=s.stringToChars(e);else if(!Array.isArray(e))throw new Error(l+"input string is not a string or array");if(e.length>0&&"number"!=typeof e[0])throw new Error(l+"input string not an array of integers");if("number"!=typeof r)r=0;else if(r=Math.floor(r),0>r||r>e.length)throw new Error(l+"input beginning index out of range: "+r);if("number"!=typeof n)n=e.length-r;else if(n=Math.floor(n),0>n||n>e.length-r)throw new Error(l+"input length out of range: "+n);p=e,i=r,a=n,o=i+a},D=function(){var e,n=t+"initializeCallbacks(): ";for(m=[],g=[],e=0;e<b.length;e+=1)m[e]=null;for(e=0;e<y.length;e+=1)g[e]=null;var s,i=[];for(e=0;e<b.length;e+=1)i.push(b[e].lower);for(e=0;e<y.length;e+=1)i.push(y[e].lower);for(var a in r.callbacks){if(e=i.indexOf(a),0>e)throw new Error(n+"syntax callback '"+a+"' not a rule or udt name");if(s=r.callbacks[a],s===!1&&(s=null),"function"!=typeof s&&null!==s)throw new Error(n+"syntax callback["+a+"] must be function reference or 'false'");e<b.length?m[e]=s:g[e-b.length]=s}for(e=0;e<y.length;e+=1)if(null===g[e])throw new Error(n+"all UDT callbacks must be defined. UDT callback["+y[e].lower+"] not a function reference")};this.setMaxTreeDepth=function(e){if("number"!=typeof e)throw new Error("parser: max tree depth must be integer > 0: "+e);if(T=Math.floor(e),0>=T)throw new Error("parser: max tree depth must be integer > 0: "+e)},this.setMaxNodeHits=function(e){if("number"!=typeof e)throw new Error("parser: max node hits must be integer > 0: "+e);if(S=Math.floor(e),0>=S)throw new Error("parser: max node hits must be integer > 0: "+e)},this.parse=function(e,t,r,n){return w(),H(r,0,r.length),I(e,t,n)},this.parseSubstring=function(e,t,r,n,s,i){return w(),H(r,n,s),I(e,t,i)};var I=function(e,r,s){var l,c,u;switch(l=t+"parse(): ",N(e),r=P(r),D(),R(),B(),O(),c=new C,void 0!==s&&null!==s&&(x=s),h=[{type:n.RNM,index:r}],le(0,i,c),h=null,c.state){case n.ACTIVE:throw new Error(l+"final state should never be 'ACTIVE'");case n.NOMATCH:u=!1;break;case n.EMPTY:case n.MATCH:u=c.phraseLength===a}return{success:u,state:c.state,length:a,matched:c.phraseLength,maxMatched:k,maxTreeDepth:d,nodeHits:f,inputLength:p.length,subBegin:i,subEnd:o,subLength:a}},j=function(e,t,r){for(var s=h[e],i=0;i<s.children.length&&(le(s.children[i],t,r),r.state===n.NOMATCH);i+=1);},F=function(e,t,s){var i,a,o,l,c;i=h[e];var p=s.uFrame.length(),u=s.pFrame.length();r.ast&&(o=r.ast.getLength()),a=!0,l=t,c=0;for(var d=0;d<i.children.length;d+=1){if(le(i.children[d],l,s),s.state===n.NOMATCH){a=!1;break}l+=s.phraseLength,c+=s.phraseLength}a?(s.state=0===c?n.EMPTY:n.MATCH,s.phraseLength=c):(s.state=n.NOMATCH,s.phraseLength=0,s.uFrame.pop(p),s.pFrame.pop(u),r.ast&&r.ast.setLength(o))},U=function(e,t,s){var i,a,l,c,p;i=h[e],l=t,c=0,p=0;var u=s.uFrame.length(),d=s.pFrame.length();for(r.ast&&(a=r.ast.getLength());;){if(l>=o)break;if(le(e+1,l,s),s.state===n.NOMATCH)break;if(s.state===n.EMPTY)break;if(p+=1,c+=s.phraseLength,l+=s.phraseLength,p===i.max)break}s.state===n.EMPTY?(s.state=0===c?n.EMPTY:n.MATCH,s.phraseLength=c):p>=i.min?(s.state=0===c?n.EMPTY:n.MATCH,s.phraseLength=c):(s.state=n.NOMATCH,s.phraseLength=0,s.uFrame.pop(u),s.pFrame.pop(d),r.ast&&r.ast.setLength(a))},K=function(e,r,s,i){if(r.phraseLength>s){var a=t+"opRNM("+e.name+"): callback function error: ";throw a+="sysData.phraseLength: "+r.phraseLength,a+=" must be <= remaining chars: "+s,new Error(a)}switch(r.state){case n.ACTIVE:if(i!==!0)throw new Error(t+"opRNM("+e.name+"): callback function return error. ACTIVE state not allowed.");break;case n.EMPTY:r.phraseLength=0;break;case n.MATCH:0===r.phraseLength&&(r.state=n.EMPTY);break;case n.NOMATCH:r.phraseLength=0;break;default:throw new Error(t+"opRNM("+e.name+"): callback function return error. Unrecognized return state: "+r.state)}},Y=function(e,t,s){var i,a,l,c,u,d,f,g,y,k;i=h[e],a=b[i.index],l=m[i.index];var T=!L();if(T&&(u=r.ast&&r.ast.ruleDefined(i.index),u&&(c=r.ast.getLength(),d=r.ast.down(i.index,b[i.index].name)),g=s.uFrame.length(),y=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),k=s.pFrame,s.pFrame=new v),null===l)f=h,h=a.opcodes,le(0,t,s),h=f;else{var S=o-t;l(s,p,t,x),K(a,s,S,!0),s.state===n.ACTIVE&&(f=h,h=a.opcodes,le(0,t,s),h=f,l(s,p,t,x),K(a,s,S,!1))}T&&(u&&(s.state===n.NOMATCH?r.ast.setLength(c):r.ast.up(i.index,b[i.index].name,t,s.phraseLength)),s.pFrame=k,s.state===n.NOMATCH?(s.uFrame.pop(g),s.pFrame.pop(y)):b[i.index].isBkr&&(s.pFrame.savePhrase(b[i.index].lower,t,s.phraseLength),s.uFrame.savePhrase(b[i.index].lower,t,s.phraseLength)))},$=function(e,r,s){if(r.phraseLength>s){var i=t+"opUDT("+e.name+"): callback function error: ";throw i+="sysData.phraseLength: "+r.phraseLength,i+=" must be <= remaining chars: "+s,new Error(i)}switch(r.state){case n.ACTIVE:throw new Error(t+"opUDT("+e.name+"): callback function return error. ACTIVE state not allowed.");case n.EMPTY:if(e.empty===!1)throw new Error(t+"opUDT("+e.name+"): callback function return error. May not return EMPTY.");r.phraseLength=0;break;case n.MATCH:if(0===r.phraseLength){if(e.empty===!1)throw new Error(t+"opUDT("+e.name+"): callback function return error. May not return EMPTY.");r.state=n.EMPTY}break;case n.NOMATCH:r.phraseLength=0;break;default:throw new Error(t+"opUDT("+e.name+"): callback function return error. Unrecognized return state: "+r.state)}},G=function(e,t,s){var i,a,l,c,u,d,f,m,k;c=h[e];var T=!L();T&&(d=r.ast&&r.ast.udtDefined(c.index),d&&(l=b.length+c.index,a=r.ast.getLength(),i=r.ast.down(l,y[c.index].name)),f=s.uFrame.length(),m=s.pFrame.length(),s.uFrame.push(),
s.pFrame.push(),k=s.pFrame,s.pFrame=new v);var S=o-t;g[c.index](s,p,t,x),$(y[c.index],s,S),T&&(d&&(s.state===n.NOMATCH?r.ast.setLength(a):r.ast.up(l,y[c.index].name,t,s.phraseLength)),s.pFrame=k,s.state===n.NOMATCH?(s.uFrame.pop(f),s.pFrame.pop(m)):y[c.index].isBkr&&(s.pFrame.savePhrase(u[c.index].lower,t,s.phraseLength),s.uFrame.savePhrase(u[c.index].lower,t,s.phraseLength)))},V=function(e,t,r){var s;s=h[e],l.push({lookAround:n.LOOKAROUND_AHEAD,anchor:t,charsEnd:o,charsLength:a}),o=p.length,a=p.length-i,le(e+1,t,r);var c=l.pop();switch(o=c.charsEnd,a=c.charsLength,r.phraseLength=0,r.state){case n.EMPTY:r.state=n.EMPTY;break;case n.MATCH:r.state=n.EMPTY;break;case n.NOMATCH:r.state=n.NOMATCH;break;default:throw new Error("opAND: invalid state "+r.state)}},z=function(e,t,r){var s;s=h[e],l.push({lookAround:n.LOOKAROUND_AHEAD,anchor:t,charsEnd:o,charsLength:a}),o=p.length,a=p.length-i,le(e+1,t,r);var c=l.pop();switch(o=c.charsEnd,a=c.charsLength,r.phraseLength=0,r.state){case n.EMPTY:case n.MATCH:r.state=n.NOMATCH;break;case n.NOMATCH:r.state=n.EMPTY;break;default:throw new Error("opNOT: invalid state "+r.state)}},q=function(e,t,r){var s=h[e];r.state=n.NOMATCH,o>t&&s.min<=p[t]&&p[t]<=s.max&&(r.state=n.MATCH,r.phraseLength=1)},J=function(e,t,r){var s,i,a;if(i=h[e],a=i.string.length,r.state=n.NOMATCH,o>=t+a){for(s=0;a>s;s+=1)if(p[t+s]!==i.string[s])return;r.state=n.MATCH,r.phraseLength=a}},X=function(e,t,r){var s,i,a,l;if(l=h[e],r.state=n.NOMATCH,a=l.string.length,0===a)return void(r.state=n.EMPTY);if(o>=t+a){for(s=0;a>s;s+=1)if(i=p[t+s],i>=65&&90>=i&&(i+=32),i!==l.string[s])return;r.state=n.MATCH,r.phraseLength=a}},Q=function(e,t,r){h[e];r.state=n.NOMATCH,r.phraseLength=0,r.state=0===t?n.EMPTY:n.NOMATCH},W=function(e,t,r){h[e];r.state=n.NOMATCH,r.phraseLength=0,r.state=t===p.length?n.EMPTY:n.NOMATCH},Z=function(e,t,r){var s,i,a,l,c,u,d,f,m;if(l=h[e],r.state=n.NOMATCH,d=l.index<b.length?b[l.index].lower:y[l.index-b.length].lower,f=l.bkrMode===n.BKR_MODE_PM?r.pFrame.getPhrase(d):r.uFrame.getPhrase(d),m=l.bkrCase===n.BKR_MODE_CI,null!==f){if(c=f.phraseIndex,a=f.phraseLength,0===a)return void(r.state=n.EMPTY);if(o>=t+a){if(m){for(s=0;a>s;s+=1)if(i=p[t+s],u=p[c+s],i>=65&&90>=i&&(i+=32),u>=65&&90>=u&&(u+=32),i!==u)return;r.state=n.MATCH,r.phraseLength=a}else for(s=0;a>s;s+=1)if(i=p[t+s],u=p[c+s],i!==u)return;r.state=n.MATCH,r.phraseLength=a}}},ee=function(e,t,r){var s;switch(s=h[e],l.push({lookAround:n.LOOKAROUND_BEHIND,anchor:t}),le(e+1,t,r),l.pop(),r.phraseLength=0,r.state){case n.EMPTY:r.state=n.EMPTY;break;case n.MATCH:r.state=n.EMPTY;break;case n.NOMATCH:r.state=n.NOMATCH;break;default:throw new Error("opBKA: invalid state "+r.state)}},te=function(e,t,r){var s;switch(s=h[e],l.push({lookAround:n.LOOKAROUND_BEHIND,anchor:t}),le(e+1,t,r),l.pop(),r.phraseLength=0,r.state){case n.EMPTY:case n.MATCH:r.state=n.NOMATCH;break;case n.NOMATCH:r.state=n.EMPTY;break;default:throw new Error("opBKN: invalid state "+r.state)}},re=function(e,t,s){var i,a,o,l,c,p,u,d;i=h[e],u=s.uFrame.length(),d=s.pFrame.length(),r.ast&&(o=r.ast.getLength()),a=!0,l=t,p=0,c=0;for(var f=i.children.length-1;f>=0;f-=1)if(le(i.children[f],l,s),l-=s.phraseLength,p+=s.phraseLength,c+=s.phraseLength,s.state===n.NOMATCH){a=!1;break}a?(s.state=0===p?n.EMPTY:n.MATCH,s.phraseLength=p):(s.state=n.NOMATCH,s.phraseLength=0,s.uFrame.pop(u),s.pFrame.pop(d),r.ast&&r.ast.setLength(o))},ne=function(e,t,s){var i,a,o,l,c,p,u;for(i=h[e],o=t,l=0,c=0,p=s.uFrame.length(),u=s.pFrame.length(),r.ast&&(a=r.ast.getLength());;){if(0>=o)break;if(le(e+1,o,s),s.state===n.NOMATCH)break;if(s.state===n.EMPTY)break;if(c+=1,l+=s.phraseLength,o-=s.phraseLength,c===i.max)break}s.state===n.EMPTY?(s.state=0===l?n.EMPTY:n.MATCH,s.phraseLength=l):c>=i.min?(s.state=0===l?n.EMPTY:n.MATCH,s.phraseLength=l):(s.state=n.NOMATCH,s.phraseLength=0,s.uFrame.pop(p),s.pFrame.pop(u),r.ast&&r.ast.setLength(a))},se=function(e,t,r){var s=h[e];if(r.state=n.NOMATCH,r.phraseLength=0,t>0){var i=p[t-1];s.min<=i&&i<=s.max&&(r.state=n.MATCH,r.phraseLength=1)}},ie=function(e,t,r){var s,i,a,o;if(i=h[e],r.state=n.NOMATCH,a=i.string.length,o=t-a,o>=0){for(s=0;a>s;s+=1)if(p[o+s]!==i.string[s])return;r.state=n.MATCH,r.phraseLength=a}},ae=function(e,t,r){var s,i,a,o;if(s=h[e],r.state=n.NOMATCH,o=s.string.length,0===o)return void(r.state=n.EMPTY);if(a=t-o,a>=0){for(var l=0;o>l;l+=1)if(i=p[a+l],i>=65&&90>=i&&(i+=32),i!==s.string[l])return;r.state=n.MATCH,r.phraseLength=o}},oe=function(e,t,r){var s,i,a,o,l,c,u,d,f,m;if(o=h[e],r.state=n.NOMATCH,r.phraseLength=0,u=o.index<b.length?b[o.index].lower:y[o.index-b.length].lower,f=o.bkrMode===n.BKR_MODE_PM?r.pFrame.getPhrase(u):r.uFrame.getPhrase(u),m=o.bkrCase===n.BKR_MODE_CI,null!==f){if(l=f.phraseIndex,a=f.phraseLength,0===a)return r.state=n.EMPTY,void(r.phraseLength=0);if(d=t-a,d>=0){if(m){for(s=0;a>s;s+=1)if(i=p[d+s],c=p[l+s],i>=65&&90>=i&&(i+=32),c>=65&&90>=c&&(c+=32),i!==c)return;r.state=n.MATCH,r.phraseLength=a}else for(s=0;a>s;s+=1)if(i=p[d+s],c=p[l+s],i!==c)return;r.state=n.MATCH,r.phraseLength=a}}},le=function(e,t,s){var i,a=!0;if(i=h[e],f+=1,f>S)throw new Error("parser: maximum number of node hits exceeded: "+S);if(u+=1,u>d&&(d=u,d>T))throw new Error("parser: maximum parse tree depth exceeded: "+T);if(s.refresh(),null!==r.trace){var o=M();r.trace.down(i,s.state,t,s.phraseLength,o.anchor,o.lookAround)}if(_())switch(i.type){case n.ALT:j(e,t,s);break;case n.CAT:re(e,t,s);break;case n.REP:ne(e,t,s);break;case n.RNM:Y(e,t,s);break;case n.UDT:G(e,t,s);break;case n.AND:V(e,t,s);break;case n.NOT:z(e,t,s);break;case n.TRG:se(e,t,s);break;case n.TBS:ie(e,t,s);break;case n.TLS:ae(e,t,s);break;case n.BKR:oe(e,t,s);break;case n.BKA:ee(e,t,s);break;case n.BKN:te(e,t,s);break;case n.ABG:Q(e,t,s);break;case n.AEN:W(e,t,s);break;default:a=!1}else switch(i.type){case n.ALT:j(e,t,s);break;case n.CAT:F(e,t,s);break;case n.REP:U(e,t,s);break;case n.RNM:Y(e,t,s);break;case n.UDT:G(e,t,s);break;case n.AND:V(e,t,s);break;case n.NOT:z(e,t,s);break;case n.TRG:q(e,t,s);break;case n.TBS:J(e,t,s);break;case n.TLS:X(e,t,s);break;case n.BKR:Z(e,t,s);break;case n.BKA:ee(e,t,s);break;case n.BKN:te(e,t,s);break;case n.ABG:Q(e,t,s);break;case n.AEN:W(e,t,s);break;default:a=!1}if(!L()&&t+s.phraseLength>k&&(k=t+s.phraseLength),null!==r.stats&&r.stats.collect(i,s),null!==r.trace){var o=M();r.trace.up(i,s.state,t,s.phraseLength,o.anchor,o.lookAround)}return u-=1,a}}},{"./identifiers.js":19,"./utilities.js":23}],21:[function(e,t,r){t.exports=function(){"use strict";var t,r="stats.js: ",n=e("./identifiers.js"),s=e("./utilities"),i=s.styleNames,a=[],o=[],l=[],c=[],h=[];this.statsObject="statsObject";var p="stats",u=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},d=function(e,t){return e.total<t.total?1:e.total>t.total?-1:u(e,t)},f=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},m=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},g=function(){l.length=0,t=new m,l[n.ALT]=new m,l[n.CAT]=new m,l[n.REP]=new m,l[n.RNM]=new m,l[n.TRG]=new m,l[n.TBS]=new m,l[n.TLS]=new m,l[n.UDT]=new m,l[n.AND]=new m,l[n.NOT]=new m,l[n.BKR]=new m,l[n.BKA]=new m,l[n.BKN]=new m,c.length=0;for(var e=0;e<a.length;e+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:a[e].name,lower:a[e].lower,index:a[e].index});if(o.length>0){h.length=0;for(var e=0;e<o.length;e+=1)h.push({empty:0,match:0,nomatch:0,total:0,name:o[e].name,lower:o[e].lower,index:o[e].index})}},b=function(e,t,s){switch(e.total+=1,t){case n.EMPTY:e.empty+=1;break;case n.MATCH:e.match+=1;break;case n.NOMATCH:e.nomatch+=1;break;default:throw r+"collect(): incStat(): unrecognized state: "+t}},y=function(e,t){var r="";return r+="<tr>",r+='<td class="'+i.CLASS_ACTIVE+'">'+e+"</td>",r+='<td class="'+i.CLASS_EMPTY+'">'+t.empty+"</td>",r+='<td class="'+i.CLASS_MATCH+'">'+t.match+"</td>",r+='<td class="'+i.CLASS_NOMATCH+'">'+t.nomatch+"</td>",r+='<td class="'+i.CLASS_ACTIVE+'">'+t.total+"</td>",r+="</tr>\n"},x=function(){var e="";return e+=y("ALT",l[n.ALT]),e+=y("CAT",l[n.CAT]),e+=y("REP",l[n.REP]),e+=y("RNM",l[n.RNM]),e+=y("TRG",l[n.TRG]),e+=y("TBS",l[n.TBS]),e+=y("TLS",l[n.TLS]),e+=y("UDT",l[n.UDT]),e+=y("AND",l[n.AND]),e+=y("NOT",l[n.NOT]),e+=y("BKR",l[n.BKR]),e+=y("BKA",l[n.BKA]),e+=y("BKN",l[n.BKN]),e+=y("totals",t)},k=function(){var e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(var t=0;t<a.length;t+=1)c[t].total>0&&(e+="<tr>",e+='<td class="'+i.CLASS_ACTIVE+'">'+c[t].name+"</td>",e+='<td class="'+i.CLASS_EMPTY+'">'+c[t].empty+"</td>",e+='<td class="'+i.CLASS_MATCH+'">'+c[t].match+"</td>",e+='<td class="'+i.CLASS_NOMATCH+'">'+c[t].nomatch+"</td>",e+='<td class="'+i.CLASS_ACTIVE+'">'+c[t].total+"</td>",e+="</tr>\n");if(o.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(var t=0;t<o.length;t+=1)h[t].total>0&&(e+="<tr>",e+='<td class="'+i.CLASS_ACTIVE+'">'+h[t].name+"</td>",e+='<td class="'+i.CLASS_EMPTY+'">'+h[t].empty+"</td>",e+='<td class="'+i.CLASS_MATCH+'">'+h[t].match+"</td>",e+='<td class="'+i.CLASS_NOMATCH+'">'+h[t].nomatch+"</td>",e+='<td class="'+i.CLASS_ACTIVE+'">'+h[t].total+"</td>",e+="</tr>\n")}return e};this.validate=function(e){var t=!1;return"string"==typeof e&&p===e&&(t=!0),t},this.init=function(e,t){a=e,o=t,g()},this.collect=function(e,r){b(t,r.state,r.phraseLength),b(l[e.type],r.state,r.phraseLength),e.type===n.RNM&&b(c[e.index],r.state,r.phraseLength),e.type===n.UDT&&b(h[e.index],r.state,r.phraseLength)},this.toHtml=function(e,t){var r="";for(r+='<table class="'+i.CLASS_RIGHT_TABLE+'">\n',"string"==typeof t&&(r+="<caption>"+t+"</caption>\n"),r+='<tr><th class="'+i.CLASS_ACTIVE+'">ops</th>\n',r+='<th class="'+i.CLASS_EMPTY+'">EMPTY</th>\n',r+='<th class="'+i.CLASS_MATCH+'">MATCH</th>\n',r+='<th class="'+i.CLASS_NOMATCH+'">NOMATCH</th>\n',r+='<th class="'+i.CLASS_ACTIVE+'">totals</th></tr>\n';;){if(void 0===e){r+=x();break}if(null===e){r+=x();break}if("ops"===e){r+=x();break}if("index"===e){c.sort(f),h.length>0&&h.sort(f),r+=x(),r+=k();break}if("hits"===e){c.sort(d),h.length>0&&h.sort(f),r+=x(),r+=k();break}if("alpha"===e){c.sort(u),h.length>0&&h.sort(u),r+=x(),r+=k();break}break}return r+="</table><br>\n"},this.toHtmlPage=function(e,t,r){return s.htmlToPage(this.toHtml(e,t),r)}}},{"./identifiers.js":19,"./utilities":23}],22:[function(e,t,r){t.exports=function(){"use strict";var t="trace.js: ",r=this,n=16,s=10,i=8,a=32,o=80,l=5,c=e("./utilities.js"),h=c.styleNames,p=new(e("./circular-buffer.js")),u=e("./identifiers.js"),d=[],f=5e3,m=0,g=0,b=0,y=[],x=null,k=null,T=null,S=[],E=[],A='<span class="'+h.CLASS_END+'">&bull;</span>',w='<span class="'+h.CLASS_END+'">&hellip;</span>',v='<span class="'+h.CLASS_EMPTY+'">&#120634;</span>',C=('<span class="'+h.CLASS_NOMATCH+'">&#120636;</span>',function(){var e,n=function(e){S[u.ALT]=e,S[u.CAT]=e,S[u.REP]=e,S[u.TLS]=e,S[u.TBS]=e,S[u.TRG]=e,S[u.AND]=e,S[u.NOT]=e,S[u.BKR]=e,S[u.BKA]=e,S[u.BKN]=e,S[u.ABG]=e,S[u.AEN]=e},s=0;for(var i in r.filter.operators)s+=1;if(0===s)n(!1);else{e=!1;for(var i in r.filter.operators){var a=i.toUpperCase();if("<ALL>"===a){n(!0),e=!0;break}if("<NONE>"===a){n(!1),e=!0;break}}if(e===!1){n(!1);for(var i in r.filter.operators){var a=i.toUpperCase();if("ALT"===a)S[u.ALT]=!0;else if("CAT"===a)S[u.CAT]=!0;else if("REP"===a)S[u.REP]=!0;else if("AND"===a)S[u.AND]=!0;else if("NOT"===a)S[u.NOT]=!0;else if("TLS"===a)S[u.TLS]=!0;else if("TBS"===a)S[u.TBS]=!0;else if("TRG"===a)S[u.TRG]=!0;else if("BKR"===a)S[u.BKR]=!0;else if("BKA"===a)S[u.BKA]=!0;else if("BKN"===a)S[u.BKN]=!0;else if("ABG"===a)S[u.ABG]=!0;else{if("AEN"!==a)throw new Error(t+"initOpratorFilter: '"+i+"' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn");S[u.AEN]=!0}}}}}),M=function(){var e,n,s,i=function(e){S[u.RNM]=e,S[u.UDT]=e;var t=k.length+T.length;E.length=0;for(var r=0;t>r;r+=1)E.push(e)},a=[];for(s=0;s<k.length;s+=1)a.push(k[s].lower);for(s=0;s<T.length;s+=1)a.push(T[s].lower);E.length=0,n=0;for(var o in r.filter.rules)n+=1;if(0===n)i(!0);else{e=!1;for(var o in r.filter.rules){var l=o.toLowerCase();if("<all>"===l){i(!0),e=!0;break}if("<none>"===l){i(!1),e=!0;break}}if(e===!1){i(!1);for(var o in r.filter.rules){var l=o.toLowerCase();if(s=a.indexOf(l),0>s)throw new Error(t+"initRuleFilter: '"+o+"' not a valid rule or udt name");E[s]=!0}S[u.RNM]=!0,S[u.UDT]=!0}}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e){"number"==typeof e&&e>0&&(f=Math.ceil(e))},this.getMaxRecords=function(){return f},this.init=function(e,t,r){d.length=0,y.length=0,m=0,g=0,b=0,x=r,k=e,T=t,C(),M(),p.init(f)};var L=function(e){var t=!1;return t=e.type===u.RNM?!(!S[e.type]||!E[e.index]):e.type===u.UDT?!(!S[e.type]||!E[k.length+e.index]):S[e.type]};this.down=function(e,t,r,n,s,i){m+=1,L(e)&&(y.push(g),d[p.increment()]={dirUp:!1,depth:b,thisLine:g,thatLine:void 0,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:i},g+=1,b+=1)},this.up=function(e,t,r,n,s,i){if(m+=1,L(e)){var a=g,o=y.pop(),l=p.getListIndex(o);-1!==l&&(d[l].thatLine=a),b-=1,d[p.increment()]={dirUp:!0,depth:b,thisLine:a,thatLine:o,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:i},g+=1}},this.toHtml=function(e,t){var r=i;if("string"==typeof e&&e.length>=3){var o=e.toLowerCase().slice(0,3);"hex"===o?r=n:"dec"===o?r=s:"uni"===o&&(r=a)}var l="";return l+=_(r,t),l+=R(r),l+=O()},this.toHtmlPage=function(e,t,r){return c.htmlToPage(this.toHtml(e,t),r)};var _=function(e,r){var o;switch(e){case n:o="hexidecimal";break;case s:o="decimal";break;case i:o="ASCII";break;case a:o="UNICODE";break;default:throw new Error(t+"htmlHeader: unrecognized mode: "+e)}var l="";return l+="<h1>JavaScript APG Trace</h1>\n",l+="<h3>&nbsp;&nbsp;&nbsp;&nbsp;display mode: "+o+"</h3>\n",l+="<h5>&nbsp;&nbsp;&nbsp;&nbsp;"+new Date+"</h5>\n",l+='<table class="'+h.CLASS_LAST2_LEFT_TABLE+'">\n',"string"==typeof r&&(l+="<caption>"+r+"</caption>"),l},O=function(){var e="";return e+="</table>\n",e+='<p class="'+h.CLASS_MONOSPACE+'">legend:<br>\n',e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_ACTIVE+'">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_MATCH+'">&uarr;M</span> phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_EMPTY+'">&uarr;E</span> empty phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_NOMATCH+'">&uarr;N</span> phrase not matched<br>\n',e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to "+o+" characters of the phrase being matched<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_MATCH+'">matched characters</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_LH_MATCH+'">matched characters in look ahead mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_LB_MATCH+'">matched characters in look behind mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_REMAINDER+'">remainder characters(not yet examined by parser)</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+h.CLASS_CTRL+'">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n',e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+v+" empty string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+A+" end of input string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+w+" input string display truncated<br>\n",e+="</p>\n",e+='<p class="'+h.CLASS_MONOSPACE+'">\n',e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n",e+="</body>\n",e+="</html>\n"},R=function(e){if(null===k)return"";var t,n,s,i,a,o,l="";return l+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",l+="<th>operator</th><th>phrase</th></tr>\n",p.forEach(function(p,f){var m=d[p];switch(t=m.thisLine,n=void 0!==m.thatLine?m.thatLine:"--",s=!1,i=!1,a=!1,m.lookAround===u.LOOKAROUND_AHEAD&&(s=!0,a=!0,o=m.lookAnchor),m.opcode.type!==u.AND&&m.opcode.type!==u.NOT||(s=!0,a=!0,o=m.phraseIndex),m.lookAround===u.LOOKAROUND_BEHIND&&(i=!0,a=!0,o=m.lookAnchor),m.opcode.type!==u.BKA&&m.opcode.type!==u.BKN||(i=!0,a=!0,o=m.phraseIndex),l+="<tr>",l+="<td>"+t+"</td><td>"+n+"</td>",l+="<td>"+m.phraseIndex+"</td>",l+="<td>"+m.phraseLength+"</td>",l+="<td>"+m.depth+"</td>",l+="<td>",m.state){case u.ACTIVE:l+='<span class="'+h.CLASS_ACTIVE+'">&darr;&nbsp;</span>';break;case u.MATCH:l+='<span class="'+h.CLASS_MATCH+'">&uarr;M</span>';break;case u.NOMATCH:l+='<span class="'+h.CLASS_NOMATCH+'">&uarr;N</span>';break;case u.EMPTY:l+='<span class="'+h.CLASS_EMPTY+'">&uarr;E</span>';break;default:l+='<span class="'+h.CLASS_ACTIVE+'">--</span>'}if(l+="</td>",l+="<td>",l+=r.indent(m.depth),s?l+='<span class="'+h.CLASS_LH_MATCH+'">':i&&(l+='<span class="'+h.CLASS_LB_MATCH+'">'),l+=c.opcodeToString(m.opcode.type),m.opcode.type===u.RNM&&(l+="("+k[m.opcode.index].name+") "),m.opcode.type===u.BKR){var g=m.opcode.bkrCase===u.BKR_MODE_CI?"%i":"%s",b=m.opcode.bkrMode===u.BKR_MODE_UM?"%u":"%p";l+="(\\"+g+b+k[m.opcode.index].name+") "}m.opcode.type===u.UDT&&(l+="("+T[m.opcode.index].name+") "),m.opcode.type===u.TRG&&(l+="("+B(e,m.opcode)+") "),m.opcode.type===u.TBS&&(l+="("+P(e,m.opcode)+") "),m.opcode.type===u.TLS&&(l+="("+H(e,m.opcode)+") "),m.opcode.type===u.REP&&(l+="("+N(e,m.opcode)+") "),a&&(l+="</span>"),l+="</td>",l+="<td>",l+=i?D(e,x,m.state,m.phraseIndex,m.phraseLength,o):s?I(e,x,m.state,m.phraseIndex,m.phraseLength):j(e,x,m.state,m.phraseIndex,m.phraseLength),l+="</td></tr>\n"}),l+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",l+="<th>operator</th><th>phrase</th></tr>\n",l+="</table>\n"};this.indent=function(e){for(var t="",r=0;e>r;r+=1)t+=".";return t};var B=function(e,t){var r="";if(t.type===u.TRG){var s;e===n||e===a?(s=t.min.toString(16).toUpperCase(),s.length%2!==0&&(s="0"+s),r+=e===n?"%x":"U+",r+=s,s=t.max.toString(16).toUpperCase(),s.length%2!==0&&(s="0"+s),r+="&ndash;"+s):r="%d"+t.min.toString(10)+"&ndash;"+t.max.toString(10)}return r},N=function(e,t){var r="";if(t.type===u.REP){var s;e===n?(s=t.min.toString(16).toUpperCase(),s.length%2!==0&&(s="0"+s),r="x"+s,t.max<1/0?(s=t.max.toString(16).toUpperCase(),s.length%2!==0&&(s="0"+s)):s="inf",r+="&ndash;"+s):r=t.max<1/0?t.min.toString(10)+"&ndash;"+t.max.toString(10):t.min.toString(10)+"&ndash;inf"}return r},P=function(e,t){var r="";if(t.type===u.TBS){var s=Math.min(t.string.length,2*l);if(e===n||e===a){r+=e===n?"%x":"U+";for(var i=0;s>i;i+=1){var o;i>0&&(r+="."),o=t.string[i].toString(16).toUpperCase(),o.length%2!==0&&(o="0"+o),r+=o}}else{r="%d";for(var i=0;s>i;i+=1)i>0&&(r+="."),r+=t.string[i].toString(10)}s<t.string.length&&(r+=w)}return r},H=function(e,t){var r="";if(t.type===u.TLS){var i=Math.min(t.string.length,l);if(e===n||e===s){var a,o,h;e===n?(r="%x",h=16):(r="%d",h=10);for(var p=0;i>p;p+=1)p>0&&(r+="."),o=t.string[p],o>=97&&122>=o?(a=o-32,r+=(a.toString(h)+"/"+o.toString(h)).toUpperCase()):o>=65&&90>=o?(a=o,o+=32,r+=(a.toString(h)+"/"+o.toString(h)).toUpperCase()):r+=o.toString(h).toUpperCase();i<t.string.length&&(r+=w)}else{r='"';for(var p=0;i>p;p+=1)r+=c.asciiChars[t.string[p]];i<t.string.length&&(r+=w),r+='"'}}return r},D=function(e,t,r,n,s,i){var a,l,c,p,d="",f=A,m='<span class="'+h.CLASS_LB_MATCH+'">',g='<span class="'+h.CLASS_REMAINDER+'">',b="</span>",y=!1;switch(r){case u.EMPTY:d+=v;case u.NOMATCH:case u.MATCH:case u.ACTIVE:a=n-s,l=i-a,c=i,p=t.length-c}return f=A,l>o?(l=o,f=w,p=0):l+p>o&&(f=w,p=o-l),l>0&&(d+=m,d+=U(e,t,a,l,y),d+=b,y=!0),p>0&&(d+=g,d+=U(e,t,c,p,y),d+=b),d+f},I=function(e,t,r,n,s){var i='<span class="'+h.CLASS_LH_MATCH+'">';return F(e,t,r,n,s,i)},j=function(e,t,r,n,s){var i='<span class="'+h.CLASS_MATCH+'">';return F(e,t,r,n,s,i)},F=function(e,t,r,n,s,i){var a,l,c,p,d="",f=A,m='<span class="'+h.CLASS_REMAINDER+'">',g="</span>",b=!1;switch(r){case u.EMPTY:d+=v;case u.NOMATCH:case u.ACTIVE:a=n,l=0,c=n,p=t.length-c;break;case u.MATCH:a=n,l=s,c=n+l,p=t.length-c}return f=A,l>o?(l=o,f=w,p=0):l+p>o&&(f=w,p=o-l),l>0&&(d+=i,d+=U(e,t,a,l,b),d+=g,b=!0),p>0&&(d+=m,d+=U(e,t,c,p,b),d+=g),d+f},U=function(e,t,r,o,l){if(0===o)return"";var h="",p=l?",":"";switch(e){case n:h=p+c.charsToHex(t,r,o);break;case s:if(l)return","+c.charsToDec(t,r,o);h=p+c.charsToDec(t,r,o);break;case a:h=p+c.charsToUnicode(t,r,o);break;case i:default:h=c.charsToAsciiHtml(t,r,o)}return h}}},{"./circular-buffer.js":17,"./identifiers.js":19,"./utilities.js":23}],23:[function(e,t,r){"use strict";var n="utilities.js: ",s=this,i=function(e,t,r){for(var n;;){if(0>=e){t=0,n=0;break}if("number"!=typeof t){t=0,n=e;break}if(t>=e){t=e,n=e;break}if("number"!=typeof r){n=e;break}if(n=t+r,n>e){n=e;break}break}return{beg:t,end:n}},a={COLOR_ACTIVE:"#000000",COLOR_MATCH:"#264BFF",COLOR_EMPTY:"#0fbd0f",COLOR_NOMATCH:"#FF4000",COLOR_LH_MATCH:"#1A97BA",COLOR_LB_MATCH:"#5F1687",COLOR_LH_NOMATCH:"#FF8000",COLOR_LB_NOMATCH:"#e6ac00",COLOR_END:"#000000",COLOR_CTRL:"#000000",COLOR_REMAINDER:"#999999",COLOR_TEXT:"#000000",COLOR_BACKGROUND:"#FFFFFF",COLOR_BORDER:"#000000",CLASS_ACTIVE:"apg-active",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_EMPTY:"apg-empty",CLASS_LH_MATCH:"apg-lh-match",CLASS_LB_MATCH:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRL:"apg-ctrl-char",CLASS_END:"apg-line-end",CLASS_LEFT_TABLE:"apg-left-table",CLASS_RIGHT_TABLE:"apg-right-table",CLASS_LAST_LEFT_TABLE:"apg-last-left-table",CLASS_LAST2_LEFT_TABLE:"apg-last2-left-table",CLASS_MONOSPACE:"apg-mono"};r.styleNames=a;var o=function(){var e="";return e+="."+a.CLASS_MONOSPACE+"{font-family: monospace;}\n",e+="."+a.CLASS_ACTIVE+"{font-weight: bold; color: "+a.COLOR_TEXT+";}\n",e+="."+a.CLASS_MATCH+"{font-weight: bold; color: "+a.COLOR_MATCH+";}\n",e+="."+a.CLASS_EMPTY+"{font-weight: bold; color: "+a.COLOR_EMPTY+";}\n",e+="."+a.CLASS_NOMATCH+"{font-weight: bold; color: "+a.COLOR_NOMATCH+";}\n",e+="."+a.CLASS_LH_MATCH+"{font-weight: bold; color: "+a.COLOR_LH_MATCH+";}\n",e+="."+a.CLASS_LB_MATCH+"{font-weight: bold; color: "+a.COLOR_LB_MATCH+";}\n",e+="."+a.CLASS_REMAINDER+"{font-weight: bold; color: "+a.COLOR_REMAINDER+";}\n",e+="."+a.CLASS_CTRL+"{font-weight: bolder; font-style: italic; font-size: .6em;}\n",e+="."+a.CLASS_END+"{font-weight: bold; color: "+a.COLOR_END+";}\n"},l=function(){var e="";return e+="."+a.CLASS_LEFT_TABLE+"{font-family:monospace;}\n",e+="."+a.CLASS_LEFT_TABLE+",\n",e+="."+a.CLASS_LEFT_TABLE+" th,\n",e+="."+a.CLASS_LEFT_TABLE+" td{text-align:left;border:1px solid black;border-collapse:collapse;}\n",e+="."+a.CLASS_LEFT_TABLE+" caption",e+="{font-size:125%;font-weight:bold;text-align:left;}\n"},c=function(){var e="";return e+="."+a.CLASS_RIGHT_TABLE+"{font-family:monospace;}\n",e+="."+a.CLASS_RIGHT_TABLE+",\n",e+="."+a.CLASS_RIGHT_TABLE+" th,\n",e+="."+a.CLASS_RIGHT_TABLE+" td{text-align:right;border:1px solid black;border-collapse:collapse;}\n",e+="."+a.CLASS_RIGHT_TABLE+" caption",e+="{font-size:125%;font-weight:bold;text-align:left;}\n"},h=function(){var e="";return e+="."+a.CLASS_LAST_LEFT_TABLE+"{font-family:monospace;}\n",e+="."+a.CLASS_LAST_LEFT_TABLE+",\n",e+="."+a.CLASS_LAST_LEFT_TABLE+" th,\n",e+="."+a.CLASS_LAST_LEFT_TABLE+" td{text-align:right;border:1px solid black;border-collapse:collapse;}\n",e+="."+a.CLASS_LAST_LEFT_TABLE+" th:last-child{text-align:left;}\n",e+="."+a.CLASS_LAST_LEFT_TABLE+" td:last-child{text-align:left;}\n",e+="."+a.CLASS_LAST_LEFT_TABLE+" caption",e+="{font-size:125%;font-weight:bold;text-align:left;}\n"},p=function(){var e="";return e+="."+a.CLASS_LAST2_LEFT_TABLE+"{font-family:monospace;}\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+",\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+" th,\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+" td{text-align:right;border:1px solid black;border-collapse:collapse;}\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+" th:last-child{text-align:left;}\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+" th:nth-last-child(2){text-align:left;}\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+" td:last-child{text-align:left;}\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+" td:nth-last-child(2){text-align:left;}\n",e+="."+a.CLASS_LAST2_LEFT_TABLE+" caption",e+="{font-size:125%;font-weight:bold;text-align:left;}\n"};r.css=function(){var e="";return e+=o(),e+=l(),e+=c(),e+=h(),e+=p()},r.styleClasses=function(){var e="<style>\n";return e+=o(),e+="</style>\n"},r.styleLeftTable=function(){var e="<style>\n";return e+=l(),e+="</style>\n"},r.styleRightTable=function(){var e="<style>\n";return e+=c(),e+="</style>\n"},r.styleLastLeftTable=function(){var e="<style>\n";return e+=h(),e+="</style>\n"},r.styleLast2LeftTable=function(){var e="<style>\n";return e+=p(),e+="</style>\n"},r.htmlToPage=function(e,t){var n="utilities.js: ";if("string"!=typeof e)throw new Error(n+"htmlToPage: input HTML is not a string");"string"!=typeof t&&(t="htmlToPage");var s="";return s+="<!DOCTYPE html>\n",s+='<html lang="en">\n',s+="<head>\n",s+='<meta charset="utf-8">\n',s+="<title>"+t+"</title>\n",s+=r.styleClasses(),s+=r.styleLeftTable(),s+=r.styleRightTable(),s+=r.styleLastLeftTable(),s+=r.styleLast2LeftTable(),s+="</head>\n<body>\n",s+="<p>"+new Date+"</p>\n",s+=e,s+="</body>\n</html>\n"},r.parserResultToHtml=function(t,r){var n=e("./identifiers.js"),s=null;""!==r&&(s=r);var i,o;i=t.success===!0?'<span class="'+a.CLASS_MATCH+'">true</span>':'<span class="'+a.CLASS_NOMATCH+'">false</span>',o=t.state===n.EMPTY?'<span class="'+a.CLASS_EMPTY+'">EMPTY</span>':t.state===n.MATCH?'<span class="'+a.CLASS_MATCH+'">MATCH</span>':t.state===n.NOMATCH?'<span class="'+a.CLASS_NOMATCH+'">NOMATCH</span>':'<span class="'+a.CLASS_NOMATCH+'">unrecognized</span>';var l="";return l+='<p><table class="'+a.CLASS_LEFT_TABLE+'">\n',s&&(l+="<caption>"+s+"</caption>\n"),l+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",l+="<tr><td>parser success</td><td>"+i+"</td>\n",l+='<td><span class="'+a.CLASS_MATCH+'">true</span> if the parse succeeded,\n',l+=' <span class="'+a.CLASS_NOMATCH+'">false</span> otherwise',l+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",l+="<tr><td>parser state</td><td>"+o+"</td>\n",l+='<td><span class="'+a.CLASS_EMPTY+'">EMPTY</span>, ',l+='<span class="'+a.CLASS_MATCH+'">MATCH</span> or \n',l+='<span class="'+a.CLASS_NOMATCH+'">NOMATCH</span></td></tr>\n',l+="<tr><td>string length</td><td>"+t.length+"</td><td>length of the input (sub)string</td></tr>\n",l+="<tr><td>matched length</td><td>"+t.matched+"</td><td>number of input string characters matched</td></tr>\n",l+="<tr><td>max matched</td><td>"+t.maxMatched+"</td><td>maximum number of input string characters matched</td></tr>\n",l+="<tr><td>max tree depth</td><td>"+t.maxTreeDepth+"</td><td>maximum depth of the parse tree reached</td></tr>\n",l+="<tr><td>node hits</td><td>"+t.nodeHits+"</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n",l+="<tr><td>input length</td><td>"+t.inputLength+"</td><td>length of full input string</td></tr>\n",l+="<tr><td>sub-string begin</td><td>"+t.subBegin+"</td><td>sub-string first character index</td></tr>\n",l+="<tr><td>sub-string end</td><td>"+t.subEnd+"</td><td>sub-string end-of-string index</td></tr>\n",l+="<tr><td>sub-string length</td><td>"+t.subLength+"</td><td>sub-string length</td></tr>\n",l+="</table></p>\n"},r.charsToString=function(e,t,r){var n="";if(Array.isArray(e)){var s="number"==typeof t?t:0,i="number"==typeof r?r:e.length;i>e.length&&(i=e.length);for(var a=s+i,o=s;a>o;o+=1)e[o]&&(n+=String.fromCharCode(e[o]))}return n},r.stringToChars=function(e){var t=[];if("string"==typeof e)for(var r=0;r<e.length;)t[r]=e.charCodeAt(r),r+=1;return t},r.opcodeToString=function(t){var r=e("./identifiers.js"),n="unknown";switch(t){case r.ALT:n="ALT";break;case r.CAT:n="CAT";break;case r.RNM:n="RNM";break;case r.UDT:n="UDT";break;case r.AND:n="AND";break;case r.NOT:n="NOT";break;case r.REP:n="REP";break;case r.TRG:n="TRG";break;case r.TBS:n="TBS";break;case r.TLS:n="TLS";break;case r.BKR:n="BKR";break;case r.BKA:n="BKA";break;case r.BKN:n="BKN";break;case r.ABG:n="ABG";break;case r.AEN:n="AEN"}return n},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(e){var t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t="0"+t;break;case 6:t="00"+t;break;case 5:t="000"+t}return t},r.charsToDec=function(e,t,r){var s="";if(!Array.isArray(e))throw new Error(n+"charsToDec: input must be an array of integers");var a=i(e.length,t,r);if(a.end>a.beg){s+=e[a.beg];for(var o=a.beg+1;o<a.end;o+=1)s+=","+e[o]}return s},r.charsToHex=function(e,t,r){var a="";if(!Array.isArray(e))throw new Error(n+"charsToHex: input must be an array of integers");var o=i(e.length,t,r);if(o.end>o.beg){a+="\\x"+s.charToHex(e[o.beg]);for(var l=o.beg+1;l<o.end;l+=1)a+=",\\x"+s.charToHex(e[l])}return a},r.charsToUnicode=function(e,t,r){var a="";if(!Array.isArray(e))throw new Error(n+"charsToUnicode: input must be an array of integers");var o=i(e.length,t,r);if(o.end>o.beg){a+="U+"+s.charToHex(e[o.beg]);for(var l=o.beg+1;l<o.end;l+=1)a+=",U+"+s.charToHex(e[l])}return a},r.charsToJsUnicode=function(e,t,r){var a="";if(!Array.isArray(e))throw new Error(n+"charsToJsUnicode: input must be an array of integers");var o=i(e.length,t,r);if(o.end>o.beg){a+="\\u"+s.charToHex(e[o.beg]);for(var l=o.beg+1;l<o.end;l+=1)a+=",\\u"+s.charToHex(e[l])}return a},r.charsToAscii=function(e,t,r){var a="";if(!Array.isArray(e))throw new Error(n+"charsToAscii: input must be an array of integers");for(var o=i(e.length,t,r),l=o.beg;l<o.end;l+=1){var c=e[l];a+=c>=32&&126>=c?String.fromCharCode(c):"\\x"+s.charToHex(c)}return a},r.charsToAsciiHtml=function(e,t,r){if(!Array.isArray(e))throw new Error(n+"charsToAsciiHtml: input must be an array of integers");for(var o,l="",c=i(e.length,t,r),h=c.beg;h<c.end;h+=1)o=e[h],l+=32>o||127===o?'<span class="'+a.CLASS_CTRL+'">'+s.asciiChars[o]+"</span>":o>127?'<span class="'+a.CLASS_CTRL+'">U+'+s.charToHex(o)+"</span>":s.asciiChars[o];return l},r.stringToAsciiHtml=function(e){var t=this.stringToChars(e);return this.charsToAsciiHtml(t)}},{"./identifiers.js":19}],24:[function(e,t,r){t.exports=function(){"use strict";this.callbacks=[],this.callbacks.abgop=!1,this.callbacks.aenop=!1,
this.callbacks.alphanum=!1,this.callbacks.alternation=!1,this.callbacks.altop=!1,this.callbacks.andop=!1,this.callbacks.basicelement=!1,this.callbacks.basicelementerr=!1,this.callbacks.bin=!1,this.callbacks.bkaop=!1,this.callbacks.bknop=!1,this.callbacks["bkr-name"]=!1,this.callbacks.bkrmodifier=!1,this.callbacks.bkrop=!1,this.callbacks.blankline=!1,this.callbacks.bmax=!1,this.callbacks.bmin=!1,this.callbacks.bnum=!1,this.callbacks.bstring=!1,this.callbacks.catop=!1,this.callbacks.ci=!1,this.callbacks.clsclose=!1,this.callbacks.clsop=!1,this.callbacks.clsopen=!1,this.callbacks.clsstring=!1,this.callbacks.comment=!1,this.callbacks.concatenation=!1,this.callbacks.cs=!1,this.callbacks.dec=!1,this.callbacks.defined=!1,this.callbacks.definedas=!1,this.callbacks.definedaserror=!1,this.callbacks.definedastest=!1,this.callbacks.dmax=!1,this.callbacks.dmin=!1,this.callbacks.dnum=!1,this.callbacks.dstring=!1,this.callbacks.ename=!1,this.callbacks.file=!1,this.callbacks.group=!1,this.callbacks.groupclose=!1,this.callbacks.grouperror=!1,this.callbacks.groupopen=!1,this.callbacks.hex=!1,this.callbacks.incalt=!1,this.callbacks.linecontinue=!1,this.callbacks.lineend=!1,this.callbacks.lineenderror=!1,this.callbacks.modifier=!1,this.callbacks.notop=!1,this.callbacks.option=!1,this.callbacks.optionclose=!1,this.callbacks.optionerror=!1,this.callbacks.optionopen=!1,this.callbacks.owsp=!1,this.callbacks.pm=!1,this.callbacks.predicate=!1,this.callbacks.prosval=!1,this.callbacks.prosvalclose=!1,this.callbacks.prosvalopen=!1,this.callbacks.prosvalstring=!1,this.callbacks["rep-max"]=!1,this.callbacks["rep-min"]=!1,this.callbacks["rep-min-max"]=!1,this.callbacks["rep-num"]=!1,this.callbacks.repetition=!1,this.callbacks.repop=!1,this.callbacks.rname=!1,this.callbacks.rnmop=!1,this.callbacks.rule=!1,this.callbacks.ruleerror=!1,this.callbacks.rulelookup=!1,this.callbacks.rulename=!1,this.callbacks.rulenameerror=!1,this.callbacks.rulenametest=!1,this.callbacks.space=!1,this.callbacks.starop=!1,this.callbacks.stringtab=!1,this.callbacks.tbsop=!1,this.callbacks.tlscase=!1,this.callbacks.tlsclose=!1,this.callbacks.tlsop=!1,this.callbacks.tlsopen=!1,this.callbacks.tlsstring=!1,this.callbacks.trgop=!1,this.callbacks["udt-empty"]=!1,this.callbacks["udt-non-empty"]=!1,this.callbacks.udtop=!1,this.callbacks.um=!1,this.callbacks.uname=!1,this.callbacks.wsp=!1,this.callbacks.xmax=!1,this.callbacks.xmin=!1,this.callbacks.xnum=!1,this.callbacks.xstring=!1,this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){var e="";return e+=";\n",e+="; ABNF for JavaScript APG 2.0 SABNF\n",e+="; RFC 5234 with some restrictions and additions.\n",e+="; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n",e+=';  - accepts %s"string" as a case-sensitive string\n',e+=';  - accepts %i"string" as a case-insensitive string\n',e+=';  - accepts "string" as a case-insensitive string\n',e+=";\n",e+="; Some restrictions:\n",e+=";   1. Rules must begin at first character of each line.\n",e+=";      Indentations on first rule and rules thereafter are not allowed.\n",e+=";   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n",e+=";   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n",e+=";      However, a working parser cannot be generated from them.\n",e+=";\n",e+="; Super set (SABNF) additions:\n",e+=";   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n",e+=";      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n",e+=";      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n",e+=";      e.g. &%d13 or &rule or !(A / B)\n",e+=";   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n",e+=";      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n",e+=";      u_name may be used as an element but no rule definition is given.\n",e+=";      e.g. rule = A / u_myUdt\n",e+=';           A = "a"\n',e+=";      would be a valid grammar.\n",e+=";   3. Case-sensitive, single-quoted strings are accepted.\n",e+=";      e.g. 'abc' would be equivalent to %d97.98.99\n",e+=';      (kept for backward compatibility, but superseded by %s"abc")  \n',e+="; New 12/26/2015\n",e+=";   4. Look-behind operators are accepted as element prefixes.\n",e+=";      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n",e+=";      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n",e+=";      e.g. &&%d13 or &&rule or !!(A / B)\n",e+=";   5. Back reference operators, i.e. \\rulename, are accepted.\n",e+=";      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n",e+=";      to match is a phrase previously matched by the rule 'rulename'.\n",e+=";      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n",e+=";      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n",e+=";      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n",e+=";      Back reference modifiers can be used to specify case and mode.\n",e+=";      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n",e+=";      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n",e+=";      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n",
e+=";      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n",e+=";   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";   8. String end anchor, AEN(%$) matches the end of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";\n",e+="File            = *(BlankLine / Rule / RuleError)\n",e+="BlankLine       = *(%d32/%d9) [comment] LineEnd\n",e+="Rule            = RuleLookup owsp Alternation ((owsp LineEnd)\n",e+="                / (LineEndError LineEnd))\n",e+="RuleLookup      = RuleNameTest owsp DefinedAsTest\n",e+="RuleNameTest    = RuleName/RuleNameError\n",e+="RuleName        = alphanum\n",e+="RuleNameError   = 1*(%d33-60/%d62-126)\n",e+="DefinedAsTest   = DefinedAs / DefinedAsError\n",e+="DefinedAsError  = 1*2%d33-126\n",e+="DefinedAs       = IncAlt / Defined\n",e+="Defined         = %d61\n",e+="IncAlt          = %d61.47\n",e+="RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\n",e+="LineEndError    = 1*(%d32-126 / %d9  / LineContinue)\n",e+="Alternation     = Concatenation *(owsp AltOp Concatenation)\n",e+="Concatenation   = Repetition *(CatOp Repetition)\n",e+="Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\n",e+="Modifier        = (Predicate [RepOp])\n",e+="                / RepOp\n",e+="Predicate       = BkaOp\n",e+="                / BknOp\n",e+="                / AndOp\n",e+="                / NotOp\n",e+="BasicElement    = UdtOp\n",e+="                / RnmOp\n",e+="                / TrgOp\n",e+="                / TbsOp\n",e+="                / TlsOp\n",e+="                / ClsOp\n",e+="                / BkrOp\n",e+="                / AbgOp\n",e+="                / AenOp\n",e+="                / ProsVal\n",e+="BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\n",e+="Group           = GroupOpen  Alternation (GroupClose / GroupError)\n",e+="GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="GroupOpen       = %d40 owsp\n",e+="GroupClose      = owsp %d41\n",e+="Option          = OptionOpen Alternation (OptionClose / OptionError)\n",e+="OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="OptionOpen      = %d91 owsp\n",e+="OptionClose     = owsp %d93\n",e+="RnmOp           = alphanum\n",e+="BkrOp           = %d92 [bkrModifier] bkr-name\n",e+="bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\n",e+="cs              = '%s'\n",e+="ci              = '%i'\n",e+="um              = '%u'\n",e+="pm              = '%p'\n",e+="bkr-name        = uname / ename / rname\n",e+="rname           = alphanum\n",e+="uname           = %d117.95 alphanum\n",e+="ename           = %d101.95 alphanum\n",e+="UdtOp           = udt-empty\n",e+="                / udt-non-empty\n",e+="udt-non-empty   = %d117.95 alphanum\n",e+="udt-empty       = %d101.95 alphanum\n",e+="RepOp           = (rep-min StarOp rep-max)\n",e+="                / (rep-min StarOp)\n",e+="                / (StarOp rep-max)\n",e+="                / StarOp\n",e+="                / rep-min-max\n",e+="AltOp           = %d47 owsp\n",e+="CatOp           = wsp\n",e+="StarOp          = %d42\n",e+="AndOp           = %d38\n",e+="NotOp           = %d33\n",e+="BkaOp           = %d38.38\n",e+="BknOp           = %d33.33\n",e+="AbgOp           = %d37.94\n",e+="AenOp           = %d37.36\n",e+="TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\n",e+="TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\n",e+="TlsOp           = TlsCase TlsOpen TlsString TlsClose\n",e+='TlsCase         = ["%i" / "%s"]\n',e+="TlsOpen         = %d34\n",e+="TlsClose        = %d34\n",e+="TlsString       = *(%d32-33/%d35-126/StringTab)\n",e+="StringTab       = %d9\n",e+="ClsOp           = ClsOpen ClsString ClsClose\n",e+="ClsOpen         = %d39\n",e+="ClsClose        = %d39\n",e+="ClsString       = *(%d32-38/%d40-126/StringTab)\n",e+="ProsVal         = ProsValOpen ProsValString ProsValClose\n",e+="ProsValOpen     = %d60\n",e+="ProsValString   = *(%d32-61/%d63-126/StringTab)\n",e+="ProsValClose    = %d62\n",e+="rep-min         = rep-num\n",e+="rep-min-max     = rep-num\n",e+="rep-max         = rep-num\n",e+="rep-num         = 1*(%d48-57)\n",e+="dString         = dnum\n",e+="xString         = xnum\n",e+="bString         = bnum\n",e+="Dec             = (%d68/%d100)\n",e+="Hex             = (%d88/%d120)\n",e+="Bin             = (%d66/%d98)\n",e+="dmin            = dnum\n",e+="dmax            = dnum\n",e+="bmin            = bnum\n",e+="bmax            = bnum\n",e+="xmin            = xnum\n",e+="xmax            = xnum\n",e+="dnum            = 1*(%d48-57)\n",e+="bnum            = 1*%d48-49\n",e+="xnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n",e+=";\n",e+="; Basics\n",e+="alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\n",e+="owsp            = *space\n",e+="wsp             = 1*space\n",e+="space           = %d32\n",e+="                / %d9\n",e+="                / comment\n",e+="                / LineContinue\n",e+="comment         = %d59 *(%d32-126 / %d9)\n",e+="LineEnd         = %d13.10\n",e+="                / %d10\n",e+="                / %d13\n",e+="LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n"}}},{}],25:[function(e,t,r){t.exports=function(){"use strict";var t,r="abnf-for-sabnf-parser.js: ",n=e("fs"),s=e("apg-lib"),i=s.ids,a=(s.utils,null),o=new(e("./syntax-callbacks.js")),l=new(e("./semantic-callbacks.js")),c=[],h=new(e("./abnf-for-sabnf-grammar.js")),p=new s.parser,u=new s.trace;p.ast=new s.ast,p.stats=new s.stats,p.callbacks=o.callbacks,p.ast.callbacks=l.callbacks;var d=function(e,t){var r=-1;if(t<e.length)for(var n=t;n<e.length;n+=1)if(null!==e[n]){r=e[n];break}return r},f=function(e){e.forEach(function(e,t){var r=[],n=[],s=0;e.opcodes.forEach(function(e,t){e.type===i.ALT&&1===e.children.length?n.push(null):e.type===i.CAT&&1===e.children.length?n.push(null):e.type===i.REP&&1===e.min&&1===e.max?n.push(null):(n.push(s),r.push(e),s+=1)}),n.push(s),r.forEach(function(e,t){if(e.type===i.ALT||e.type===i.CAT)for(var r=0;r<e.children.length;r+=1)e.children[r]=d(n,e.children[r])}),e.opcodes=r})};this.syntax=function(e,r,n){t=e;var s={hasErrors:!1,errors:c,state:null,stats:p.stats,trace:null};r!==!0&&(r=!1),n!==!0?n=!1:(n=!0,p.trace=u,s.trace=u);var i={};return c.length=0,i.errors=c,i.strict=r,i.findLine=t.findLine,i.ruleCount=0,s.state=p.parse(h,"file",t.chars,i),s.state.success!==!0&&c.push({line:0,"char":0,msg:"syntax analysis of input grammar failed"}),0===c.length?a=!0:(s.hasErrors=!0,a=!1),s},this.semantic=function(){for(var e={hasErrors:!1,errors:c,rules:null,udts:null};;){if(!a){c.push({line:0,"char":0,msg:"cannot do semantic analysis until syntax analysis has completed without errors"}),e.errors=c;break}var r={};if(c.length=0,r.errors=c,r.findLine=t.findLine,p.ast.translate(r),r.errors.length>0){e.hasErrors=!0;break}e.rules=f(r.rules),e.rules=r.rules,e.udts=r.udts,e.rulesLineMap=r.rulesLineMap;break}return e},this.generateJavaScript=function(e,s,a){var o,l,c,h=0,p=1/0,u=0,d=[],f=[],m=0,g=0,b=0,y=0,x=0,k=0,T=0,S=0,E=0,A=0,w=0,v=0,C=0,M=0,L=0;e.forEach(function(e){d.push(e.lower),h+=e.opcodes.length,e.opcodes.forEach(function(e,t){switch(e.type){case i.ALT:m+=1;break;case i.CAT:g+=1;break;case i.RNM:b+=1;break;case i.UDT:y+=1;break;case i.REP:x+=1;break;case i.AND:k+=1;break;case i.NOT:T+=1;break;case i.BKA:v+=1;break;case i.BKN:C+=1;break;case i.BKR:w+=1;break;case i.ABG:M+=1;break;case i.AEN:L+=1;break;case i.TLS:for(S+=1,o=0;o<e.string.length;o+=1)e.string[o]<p&&(p=e.string[o]),e.string[o]>u&&(u=e.string[o]);break;case i.TBS:for(E+=1,o=0;o<e.string.length;o+=1)e.string[o]<p&&(p=e.string[o]),e.string[o]>u&&(u=e.string[o]);break;case i.TRG:A+=1,e.min<p&&(p=e.min),e.max>u&&(u=e.max)}})}),d.sort(),s.length>0&&(s.forEach(function(e){f.push(e.lower)}),f.sort()),a+=".js";try{var _=n.openSync(a,"w");n.writeSync(_,"// Generated by JavaScript APG, Version 2.0 [`apg-js2`](https://github.com/ldthomas/apg-js2)\n"),n.writeSync(_,"module.exports = function(){\n"),n.writeSync(_,'"use strict";\n'),n.writeSync(_,"  //```\n"),n.writeSync(_,"  // SUMMARY\n"),n.writeSync(_,"  //      rules = "+e.length+"\n"),n.writeSync(_,"  //       udts = "+s.length+"\n"),n.writeSync(_,"  //    opcodes = "+h+"\n"),n.writeSync(_,"  //        ABNF original opcodes\n"),n.writeSync(_,"  //        ALT = "+m+"\n"),n.writeSync(_,"  //        CAT = "+g+"\n"),n.writeSync(_,"  //        REP = "+x+"\n"),n.writeSync(_,"  //        RNM = "+b+"\n"),n.writeSync(_,"  //        TLS = "+S+"\n"),n.writeSync(_,"  //        TBS = "+E+"\n"),n.writeSync(_,"  //        TRG = "+A+"\n"),n.writeSync(_,"  //        SABNF superset opcodes\n"),n.writeSync(_,"  //        UDT = "+y+"\n"),n.writeSync(_,"  //        AND = "+k+"\n"),n.writeSync(_,"  //        NOT = "+T+"\n"),n.writeSync(_,"  //        BKA = "+v+"\n"),n.writeSync(_,"  //        BKN = "+C+"\n"),n.writeSync(_,"  //        BKR = "+w+"\n"),n.writeSync(_,"  //        ABG = "+M+"\n"),n.writeSync(_,"  //        AEN = "+L+"\n"),n.writeSync(_,"  // characters = ["),S+E+A===0?n.writeSync(_," none defined ]"):n.writeSync(_,p+" - "+u+"]"),y>0&&n.writeSync(_," + user defined"),n.writeSync(_,"\n"),n.writeSync(_,"  //```\n"),n.writeSync(_,"  /* CALLBACK LIST PROTOTYPE (true, false or function reference) */\n"),n.writeSync(_,"  this.callbacks = [];\n"),d.forEach(function(e){n.writeSync(_,"  this.callbacks['"+e+"'] = false;\n")}),s.length>0&&f.forEach(function(e){n.writeSync(_,"  this.callbacks['"+e+"'] = false;\n")}),n.writeSync(_,"\n"),n.writeSync(_,"  /* OBJECT IDENTIFIER (for internal parser use) */\n"),n.writeSync(_,"  this.grammarObject = 'grammarObject';\n"),n.writeSync(_,"\n"),n.writeSync(_,"  /* RULES */\n"),n.writeSync(_,"  this.rules = [];\n"),e.forEach(function(e,t){var r="  this.rules[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", isBkr: ",r+=e.isBkr,r+="};\n",n.writeSync(_,r)}),n.writeSync(_,"\n"),n.writeSync(_,"  /* UDTS */\n"),n.writeSync(_,"  this.udts = [];\n"),s.length>0&&s.forEach(function(e,t){var r="  this.udts[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", empty: ",r+=e.empty,r+=", isBkr: ",r+=e.isBkr,r+="};\n",n.writeSync(_,r)}),n.writeSync(_,"\n"),n.writeSync(_,"  /* OPCODES */\n"),e.forEach(function(t,r){r>0&&n.writeSync(_,"\n"),n.writeSync(_,"  /* "+t.name+" */\n"),n.writeSync(_,"  this.rules["+r+"].opcodes = [];\n"),t.opcodes.forEach(function(t,a){switch(t.type){case i.ALT:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", children: ["+t.children.toString()+"]};// ALT\n");break;case i.CAT:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", children: ["+t.children.toString()+"]};// CAT\n");break;case i.RNM:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", index: "+t.index+"};// RNM("+e[t.index].name+")\n");break;case i.BKR:t.index>=e.length?(l=s[t.index-e.length].name,c=s[t.index-e.length].lower):(l=e[t.index].name,c=e[t.index].lower);var o="%i";t.bkrCase===i.BKR_MODE_CS&&(o="%s"),o+=t.bkrMode===i.BKR_MODE_UM?"%u":"%p",l=o+l,n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", index: "+t.index+", lower: '"+c+"', bkrCase: "+t.bkrCase+", bkrMode: "+t.bkrMode+"};// BKR(\\"+l+")\n");break;case i.UDT:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", empty: "+t.empty+", index: "+t.index+"};// UDT("+s[t.index].name+")\n");break;case i.REP:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", min: "+t.min+", max: "+t.max+"};// REP\n");break;case i.AND:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+"};// AND\n");break;case i.NOT:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+"};// NOT\n");break;case i.ABG:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+"};// ABG(%^)\n");break;case i.AEN:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+"};// AEN(%$)\n");break;case i.BKA:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+"};// BKA\n");break;case i.BKN:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+"};// BKN\n");break;case i.TLS:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", string: ["+t.string.toString()+"]};// TLS\n");break;case i.TBS:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", string: ["+t.string.toString()+"]};// TBS\n");break;case i.TRG:n.writeSync(_,"  this.rules["+r+"].opcodes["+a+"] = {type: "+t.type+", min: "+t.min+", max: "+t.max+"};// TRG\n")}})}),n.writeSync(_,"\n"),n.writeSync(_,"  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n"),n.writeSync(_,"  this.toString = function(){\n"),n.writeSync(_,'    var str = "";\n');var O;t.lines.forEach(function(e,r){var s=e.beginChar+e.length;O="",n.writeSync(_,'    str += "');for(var i=e.beginChar;s>i;i+=1){switch(t.chars[i]){case 9:O=" ";break;case 10:O="\\n";break;case 13:O="\\r";break;case 34:O='\\"';break;case 92:O="\\\\";break;default:O=String.fromCharCode(t.chars[i])}n.writeSync(_,O)}n.writeSync(_,'";\n')}),n.writeSync(_,"    return str;\n"),n.writeSync(_,"  }\n"),n.writeSync(_,"}\n"),n.close(_)}catch(R){throw new Error(r+"generateJavaScript(): file system error\n"+R.message)}return a},this.generateObject=function(e,r){var n={};if(t){var s=[],i=[],a=t.originalString.slice(0);n.grammarObject="grammarObject",e.forEach(function(e){s.push(e.lower)}),s.sort(),r.length>0&&(r.forEach(function(e){i.push(e.lower)}),i.sort()),n.callbacks=[],s.forEach(function(e){n.callbacks[e]=!1}),r.length>0&&i.forEach(function(e){n.callbacks[e]=!1}),n.rules=e,n.udts=r,n.toString=function(){return a}}return n}}},{"./abnf-for-sabnf-grammar.js":24,"./semantic-callbacks.js":34,"./syntax-callbacks.js":35,"apg-lib":18,fs:1}],26:[function(e,t,r){t.exports=function(t){"use strict";var r=e("apg-lib").ids,n=function(e,s){e.ctrl.isScanned[s]+=1,t[s].opcodes.forEach(function(t){t.type===r.RNM&&(e.ctrl.refCount[t.index]+=1,0===e.ctrl.isScanned[t.index]&&n(e,t.index))})};t.forEach(function(e){n(e,e.index)});for(var s=0;s<t.length;s+=1)t[s].ctrl.refCount[s]>0&&(t[s].ctrl.type=r.ATTR_R);t.mrGroups=[];for(var s=0;s<t.length;s+=1){var i=t[s].ctrl;if(i.type===r.ATTR_R){for(var a=[],o=0;o<t.length;o+=1)if(s!==o){var l=t[o].ctrl;l.type===r.ATTR_R&&i.refCount[o]>0&&l.refCount[s]&&(0==a.length&&(a.push(s),i.type=r.ATTR_MR,i.mrGroupId=t.mrGroups.length),a.push(o),l.type=r.ATTR_MR,l.mrGroupId=t.mrGroups.length)}a.length>0&&t.mrGroups.push(a)}}for(var s=0;s<t.length;s+=1)for(var i=t[s].ctrl,o=0;o<t.length;o+=1){var l=t[o].ctrl;i.refCount[o]>0&&l.type===r.ATTR_MR&&(i.type===r.ATTR_N?i.type=r.ATTR_NMR:i.type===r.ATTR_R&&(i.type=r.ATTR_RMR))}}},{"apg-lib":18}],27:[function(e,t,r){t.exports=function(t){"use strict";var r=e("apg-lib").ids,n=function(e,t){for(;;){if(e.ctrl.isOpen===!0||e.ctrl.isComplete===!0){t.finite=e.attr.finite,t.empty=e.attr.empty,t.notEmpty=e.attr.notEmpty;break}e.ctrl.isOpen=!0,l(e,0,t),e.ctrl.isOpen=!1,e.ctrl.isComplete=!0,e.attr.finite=t.finite,e.attr.empty=t.empty,e.attr.notEmpty=t.notEmpty;break}},s=function(e,t){for(;;){var r=c[c.length-1]+e.lower;if(e.ctrl.isOpen===!0||e.ctrl.isComplete===!0){t.finite=e.attr.finite,t.empty=e.attr.empty,t.notEmpty=e.attr.notEmpty;break}var n=h.find(r);if(-1!==n){t.finite=n.finite,t.empty=n.empty,t.notEmpty=n.notEmpty;break}c.push(r),e.ctrl.isOpen=!0,l(e,0,t),e.ctrl.isOpen=!1,e.attr.finite=t.finite,e.attr.empty=t.empty,e.attr.notEmpty=t.notEmpty,h.add(r,t),c.pop();break}},i=function(e,r,n){for(var s=e.opcodes[r],i=[],a=0;a<s.children.length;a+=1){var o=new t.attrConstructor;i.push(o),l(e,s.children[a],o)}n.finite=!1,n.empty=!1,n.notEmpty=!1;for(var a=0;a<i.length;a+=1){var c=i[a];c.finite===!0&&(n.finite=!0),c.empty===!0?n.empty=!0:n.notEmpty=!0}},a=function(e,r,n){for(var s=e.opcodes[r],i=[],a=0;a<s.children.length;a+=1){var o=new t.attrConstructor;i.push(o),l(e,s.children[a],o)}n.finite=!0,n.empty=!0,n.notEmpty=!1;for(var a=0;a<i.length;a+=1){var c=i[a];c.finite===!1&&(n.finite=!1),c.empty===!1&&(n.empty=!1,n.notEmpty=!0)}},o=function(e,t,r){var n=e.opcodes[t];l(e,t+1,r),0===n.min&&(r.finite=!0,r.empty=!0)},l=function(e,n,s){var l=e.opcodes[n];switch(l.type){case r.ALT:i(e,n,s);break;case r.CAT:a(e,n,s);break;case r.REP:o(e,n,s);break;case r.RNM:p(t[l.index],s);break;case r.UDT:s.finite=!0,s.empty=l.empty,s.notEmpty=!0;break;case r.AND:case r.NOT:case r.BKA:case r.BKN:case r.ABG:case r.AEN:s.finite=!0,s.empty=!0,s.notEmpty=!1;break;case r.TLS:s.finite=!0,s.empty=!(l.string.length>0),s.notEmpty=!s.empty;break;case r.TBS:s.finite=!0,s.empty=!1,s.notEmpty=!0;break;case r.BKR:s.finite=!0,s.empty=!0,s.notEmpty=!0;break;case r.TRG:s.finite=!0,s.empty=!1,s.notEmpty=!0}},c=[],h=new t.nameListConstructor,p=n,u=new t.attrConstructor;t.forEach(function(e){e.ctrl.isOpen=!1,e.ctrl.isComplete=!1}),t.forEach(function(e){e.ctrl.type!==r.ATTR_N&&e.ctrl.type!==r.ATTR_R||e.ctrl.isComplete===!1&&p(e,u)}),p=s,t.mrGroups.forEach(function(e){e.forEach(function(e){var r=t[e];h.clear(),c.length=0,c.push(""),p(r,u),r.ctrl.isComplete=!0})}),p=n;var u=new t.attrConstructor;t.forEach(function(e){e.ctrl.type!==r.ATTR_NMR&&e.ctrl.type!==r.ATTR_RMR||e.ctrl.isComplete===!1&&p(e,u)})}},{"apg-lib":18}],28:[function(e,t,r){t.exports=function(t){"use strict";var r=e("apg-lib").ids,n=function(e,t,r){for(;;){if(t.index===e&&t.ctrl.isOpen===!0){r.left=t.attr.left,r.nested=t.attr.nested,r.right=t.attr.right,r.cyclic=t.attr.cyclic,r.finite=t.attr.finite,r.empty=t.attr.empty,r.notEmpty=t.attr.notEmpty;break}if(0===t.ctrl.refCount[e]){r.left=!1,r.nested=!1,r.right=!1,r.cyclic=!1,r.finite=t.attr.finite,r.empty=t.attr.empty,r.notEmpty=t.attr.notEmpty;break}if(t.ctrl.isOpen===!0){r.left=!1,r.nested=!1,r.right=!1,r.cyclic=!1,r.finite=t.attr.finite,r.empty=t.attr.empty,r.notEmpty=t.attr.notEmpty;break}var n=u[u.length-1]+t.lower,s=d.find(n);if(-1!==s){r.left=s.left,r.nested=s.nested,r.right=s.right,r.cyclic=s.cyclic,r.finite=s.finite,r.empty=s.empty,r.notEmpty=s.notEmpty;break}u.push(n),t.ctrl.isOpen=!0,p(e,t,0,r),t.ctrl.isOpen=!1,d.add(n,r),u.pop();break}},s=function(e,r,n,s){for(var i=r.opcodes[n],a=[],o=0;o<i.children.length;o+=1){var l=new t.attrConstructor;a.push(l),p(e,r,i.children[o],l)}s.left=!1,s.nested=!1,s.right=!1,s.cyclic=!1,s.finite=!1,s.empty=!1,s.notEmpty=!1;for(var o=0;o<a.length;o+=1){var c=a[o];c.left===!0&&(s.left=!0),c.nested===!0&&(s.nested=!0),c.right===!0&&(s.right=!0),c.cyclic===!0&&(s.cyclic=!0),c.finite===!0&&(s.finite=!0),c.empty===!0?s.empty=!0:s.notEmpty=!0}},i=function(e){for(var t,r,n,s,i=0;i<e.length;i+=1){var t=e[i];if(t.nested===!0)return!0}s=!1;for(var i=0;i<e.length;i+=1){var t=e[i];if(s){if(t.notEmpty===!0)return!0}else t.right===!0&&t.left===!1&&t.notEmpty===!0&&(s=!0)}s=!1;for(var i=e.length-1;i>=0;i-=1){var t=e[i];if(s){if(t.notEmpty===!0)return!0}else t.left===!0&&t.right===!1&&t.notEmpty===!0&&(s=!0)}n=!1,s=!1,r=!1;for(var i=0;i<e.length;i+=1){var t=e[i];if(n===!1)t.notEmpty===!0&&(n=!0);else if(s===!1)t.left!==!0&&t.right!==!0&&t.cyclic!==!0||(s=!0);else if(t.notEmpty===!0)return!0}return!1},a=function(e){for(var t=!1,r=0;r<e.length;r+=1){if(e[r].left===!0){t=!0;break}if(e[r].empty===!1){t=!1;break}}return t},o=function(e){for(var t=!1,r=e.length-1;r>=0;r-=1){if(e[r].right===!0){t=!0;break}if(e[r].empty===!1){t=!1;break}}return t},l=function(e){for(var t=!0,r=0;r<e.length;r+=1)if(e[r].cyclic===!1){t=!1;break}return t},c=function(e,r,n,s){for(var c=r.opcodes[n],h=[],u=0;u<c.children.length;u+=1){var d=new t.attrConstructor;h.push(d),p(e,r,c.children[u],d)}s.finite=!0,s.empty=!0,s.notEmpty=!1;for(var u=0;u<h.length;u+=1){var f=h[u];f.finite===!1&&(s.finite=!1),f.empty===!1&&(s.empty=!1,s.notEmpty=!0)}s.left=a(h),s.nested=i(h),s.right=o(h),s.cyclic=l(h)},h=function(e,t,r,n){p(e,t,r+1,n)},p=function(e,i,a,o){var l=i.opcodes[a];switch(o.left=!1,o.nested=!1,o.right=!1,o.cyclic=!1,l.type){case r.ALT:s(e,i,a,o);break;case r.CAT:c(e,i,a,o);break;case r.REP:h(e,i,a,o);break;case r.RNM:n(e,t[l.index],o);break;case r.UDT:o.finite=!0,o.empty=l.empty,o.notEmpty=!0;break;case r.AND:case r.NOT:case r.BKA:case r.BKN:case r.ABG:case r.AEN:o.finite=!0,o.empty=!0,o.notEmpty=!1;break;case r.TLS:o.finite=!0,o.empty=!(l.string.length>0),o.notEmpty=!o.empty;break;case r.TBS:o.finite=!0,o.empty=!1,o.notEmpty=!0;break;case r.BKR:o.finite=!0,o.empty=!0,o.notEmpty=!0;break;case r.TRG:o.finite=!0,o.empty=!1,o.notEmpty=!0}},u=[],d=new t.nameListConstructor,f=new t.attrConstructor;t.forEach(function(e){e.ctrl.isOpen=!1,e.ctrl.isComplete=!1});for(var m=0;m<t.length;m+=1)if(t[m].ctrl.type===r.ATTR_R||t[m].ctrl.type===r.ATTR_MR||t[m].ctrl.type===r.ATTR_RMR){var g=t[m];t[m].attr;d.clear(),u.length=0,u.push(""),n(m,t[m],f),g.attr.left=f.left,g.attr.nested=f.nested,g.attr.right=f.right,g.attr.cyclic=f.cyclic}}},{"apg-lib":18}],29:[function(e,t,r){t.exports=function(){"use strict";var t=e("apg-lib"),r=(t.utils.styleNames,t.ids),n=e("./attribute-types.js"),s=e("./attributes-non-recursive.js"),i=e("./attributes-recursive.js"),a=(e("./html-files-sources.js"),null),o=0,l=function(e){var t="unknown";switch(e.type){case r.ATTR_N:t="N";break;case r.ATTR_R:t="R";break;case r.ATTR_MR:t="MR("+e.mrGroupId+")";break;case r.ATTR_NMR:t="NMR";break;case r.ATTR_RMR:t="RMR"}return t},c=function(e,t){var r=e.attr.left===!0||e.attr.cyclic===!0||e.attr.finite===!1,n=t.attr.left===!0||t.attr.cyclic===!0||t.attr.finite===!1;return r===!1&&n===!0?1:r===!0&&n===!1?-1:0},h=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},p=function(e,t){var r,n,s="",i=!1;s+='<script type="text/javascript">\n',s+='var attrSortCol = "index"\n',s+="var attrSortErrors = true\n",s+="var attrSortDir = 0\n",s+="var attrDirs = {index: 0, rule: 0, type: 0, left: 0, nested: 0, right: 0, cyclic: 0, finite: 0, empty: 0, notempty: 0}\n",s+="var attrRows = [\n";var a=0;return e.forEach(function(e){0===a?a+=1:s+=",\n",n=e.attr,r=!1,n.left!==!0&&n.cyclic!==!0&&n.finite!==!1||(r=!0,i=!0),s+="{error: "+r+", index: "+e.index+', rule: "'+e.name+'", lower: "'+e.lower+'"',s+=", type: "+e.ctrl.type+', typename: "'+l(e.ctrl)+'"',s+=", left: "+n.left+", nested: "+n.nested+", right: "+n.right+", cyclic: "+n.cyclic,s+=", finite: "+n.finite+", empty: "+n.empty+", notempty: "+n.notEmpty,s+="}"}),s+="\n]\n",s+="var attrHasErrors = "+i+"\n",s+="</script>\n",s+='<div id="sort-links" >\n',s+="</div>\n"},u=function(e){this.isOpen=!1,this.isComplete=!1,this.type=r.ATTR_N,this.mrGroupId=-1,this.refCount=e.slice(0),this.isScanned=e.slice(0)},d=function(e){e===!0?(this.left=!0,this.nested=!1,this.right=!0,this.cyclic=!0):(this.left=!1,this.nested=!1,this.right=!1,this.cyclic=!1),this.finite=!1,this.empty=!0,this.notEmpty=!1,this.error=!1,this.copy=function(e){e.left=this.left,e.nested=this.nested,e.right=this.right,e.cyclic=this.cyclic,e.finite=this.finite,e.empty=this.empty,e.notEmpty=this.notEmpty,e.error=this.error},this.copyNR=function(e){e.finite=this.finite,e.empty=this.empty},this.copyR=function(e){e.left=this.left,e.nested=this.nested,e.right=this.right,e.cyclic=this.cyclic}},f=function(){var e=[];this.add=function(t,r){var n=-1,s=this.find(t);return-1===s&&(n={name:t,left:r.left,nested:r.nested,right:r.right,cyclic:r.cyclic,finite:r.finite,empty:r.empty,notEmpty:r.notEmpty},e.push(n)),n},this.find=function(t){for(var r=-1,n=0;n<e.length;n+=1)if(e[n].name===t){r=e[n];break}return r},this.clear=function(){e.length=0}};this.ruleDependenciesToString=function(){var e="";return a.forEach(function(t){e+="\n",e+="\nRULE: "+t.name;for(var r=0;r<a.length;r+=1)t.attr.refCount[r]>0&&(e+="\n          "+a[r].name)}),e},this.rulesWithReferencesToHtml=function(){var e="";e+='<script type="text/javascript">\n',e+='var tableData= {indexSort: "up", nameSort: "up", rows: [\n';var t=0;return a.forEach(function(r){0===t?t+=1:e+=",",e+='{name: "'+r.name+'", lower: "'+r.lower+'", index: '+r.index,e+=', indexSort: "up", nameSort: "up", visible: true, dependents: [';for(var n=0,s=0;s<a.length;s+=1)r.ctrl.refCount[s]>0&&(0===n?(e+='{name: "'+a[s].name+'", index: '+s+"}",n+=1):(e+=",",e+='{name: "'+a[s].name+'", index: '+s+"}"));e+="]}\n"}),e+="]};\n",e+="</script>\n",e+='<div id="sort-links" >\n',e+="</div>\n"},this.ruleAttrsToHtml=function(){var e="";return a.sort(h),o>0&&a.sort(c),e+=p(a,"Attributes by Rule Index"),a.sort(h),e},this.getAttributes=function(e,t){a=e,a.attrConstructor=d,a.nameListConstructor=f;var l=[];a.forEach(function(){l.push(0)}),a.forEach(function(e){e.ctrl=new u(l)}),n(a),a.forEach(function(e){e.ctrl.type===r.ATTR_R||e.ctrl.type===r.ATTR_MR||e.ctrl.type===r.ATTR_RMR?e.attr=new d(!0):e.attr=new d}),s(a),i(a),o=0;var c=[];return a.forEach(function(e){e.error=!1,e.attr.left===!0&&(e.error=!0,o+=1,c.push({line:t[e.index].line,"char":t[e.index]["char"],msg:"left recursive"})),e.attr.finite===!1&&(e.error=!0,o+=1,c.push({line:t[e.index].line,"char":t[e.index]["char"],msg:"infinite"})),e.attr.cyclic===!0&&(e.error=!0,o+=1,c.push({line:t[e.index].line,"char":t[e.index]["char"],msg:"cyclic"}))}),c}}},{"./attribute-types.js":26,"./attributes-non-recursive.js":27,"./attributes-recursive.js":28,"./html-files-sources.js":31,"apg-lib":18}],30:[function(e,t,r){"use strict";r.attributes=e("./attributes.js"),r.inputAnalysisParser=e("./input-analysis-parser.js"),r.ABNFForSABNFParser=e("./abnf-for-sabnf-parser.js")},{"./abnf-for-sabnf-parser.js":25,"./attributes.js":29,"./input-analysis-parser.js":33}],31:[function(e,t,r){"use strict;";r.screenCss=function(){var e="";return e='<style media="screen">',e+="pre {",e+="line-height: 1.2em;",e+="font-size: 1.2em;",e+="}",e+="body {",e+="color: black;",e+="background-color: rgb(240, 240, 240);",e+="font-family: verdana, helvetica, arial, sans-serif;",e+="font-size: 71%; /* Enables font size scaling in MSIE */",e+="margin: 0;",e+="padding: 0;",e+="}",e+="html>body {",e+="font-size: 8.5pt;",e+="}",e+="acronym, .titleTip {",e+="border-bottom: 1px dotted rgb(153, 153, 153);",e+="cursor: help;",e+="margin: 0;",e+="padding: 0 0 0.4px 0;",e+="}",e+=".doNotDisplay {",e+="display: none;",e+="}",e+=".smallCaps {",e+="font-size: 110%;",e+="font-variant: small-caps;",e+="}",e+=".superHeader {",e+="color: white;",e+="background-color: rgb(100, 135, 220);",e+="height: 2em;",e+="}",e+=".superHeader a {",e+="color: white;",e+="background-color: transparent;",e+="text-decoration: none;",e+="font-size: 91%;",e+="margin: 0;",e+="padding: 0 0.5ex 0 0.25ex;",e+="}",e+=".superHeader a:hover {",e+="text-decoration: underline;",e+="}",e+=".superHeader .left {",e+="position: absolute;",e+="left: 1.5mm;",e+="top: 0.75ex;",e+="}",e+=".superHeader .right {",e+="position: absolute;",e+="right: 1.5mm;",e+="top: 0.75ex;",e+="}",e+=".midHeader {",e+="color: rgb(39, 78, 144);",e+="background-color: rgb(140, 170, 230);",e+="}",e+=".headerTitle {",e+="font-size: 337%;",e+="font-weight: normal;",e+="margin: 0 0 0 4mm;",e+="padding: 0.25ex 0;",e+="}",e+=".subHeader {",e+="color: white;",e+="background-color: rgb(0, 51, 153);",e+="margin: 0;",e+="padding: 1ex 1ex 1ex 1.5mm;",e+="}",e+=".subHeader a {",e+="color: white;",e+="background-color: transparent;",e+="text-decoration: none;",e+="font-weight: bold;",e+="margin: 0;",e+="padding: 0 0.75ex 0 0.5ex;",e+="}",e+=".subHeader a:hover {",e+="text-decoration: underline;",e+="}",e+=".superHeader .highlight, .subHeader .highlight {",e+="color: rgb(253, 160, 91);",e+="background-color: transparent;",e+="}",e+="#side-bar {",e+="width: 15em;",e+="float: left;",e+="clear: left;",e+="border-right: 1px solid rgb(153, 153, 153);",e+="}",e+="#side-bar div {",e+="border-bottom: 1px solid rgb(153, 153, 153);",e+="}",e+=".sideBarTitle {",e+="font-weight: bold;",e+="margin: 0 0 0.5em 2.5mm;",e+="padding: 1em 0 0 0;",e+="}",e+="#side-bar ul {",e+="list-style-type: none;",e+="list-style-position: outside;",e+="margin: 0;",e+="padding: 0 0 1.1em 0;",e+="}",e+="#side-bar li {",e+="margin: 0;",e+="padding: 0.1ex 0; /* Circumvents a rendering bug (?) in MSIE 6.0 */",e+="}",e+="#side-bar a, .thisPage {",e+="color: rgb(0, 102, 204);",e+="background-color: transparent;",e+="text-decoration: none;",e+="margin: 0;",e+="padding: 0.75em 1ex 0.75em 5mm;",e+="display: block;",e+="}",e+=".thisPage {",e+="color: black;",e+="background-color: white;",e+="padding-left: 4mm;",e+="border-top: 1px solid rgb(153, 153, 153);",e+="border-bottom: 1px solid rgb(153, 153, 153);",e+="}",e+="#side-bar a:hover {",e+="color: white;",e+="background-color: rgb(100, 135, 220);",e+="text-decoration: none;",e+="}",e+=".sideBarText {",e+="line-height: 1.5em;",e+="margin: 0 0 1em 0;",e+="padding: 0 1.5ex 0 2.5mm;",e+="display: block;",e+="}",e+="#side-bar .sideBarText a {",e+="text-decoration: underline;",e+="margin: 0;",e+="padding: 0;",e+="display: inline;",e+="}",e+="#side-bar .sideBarText a:hover {",e+="color: rgb(0, 102, 204);",e+="background-color: transparent;",e+="text-decoration: none;",e+="}",e+=".lighterBackground {",e+="color: inherit;",e+="background-color: white;",e+="}",e+="#main-copy {",e+="color: black;",e+="background-color: white;",e+="text-align: justify;",e+="line-height: 1.5em;",e+="margin: 0 0 0 15em;",e+="padding: 0.5mm 5mm 5mm 5mm;",e+="border-left: 1px solid rgb(153, 153, 153);",e+="}",e+="#main-copy p {",e+="margin: 1em 1ex 2em 1ex;",e+="padding: 0;",e+="}",e+="#main-copy a {",e+="color: rgb(0, 102, 204);",e+="background-color: transparent;",e+="text-decoration: underline;",e+="}",e+="#main-copy a:hover {",e+="text-decoration: none;",e+="}",e+="#main-copy h1 {",e+="color: white;",e+="background-color: rgb(100, 135, 220);",e+="font-size: 100%;",e+="font-weight: bold;",e+="margin: 3em 0 0 0;",e+="padding: 0.5ex 0 0.5ex 1ex;",e+="}",e+="#main-copy .topOfPage {",e+="color: white;",e+="background-color: transparent;",e+="font-size: 91%;",e+="font-weight: bold;",e+="text-decoration: none;",e+="margin: 2.5ex 1ex 0 0; /* For MSIE */",e+="padding: 0;",e+="float: right;",e+="}",e+="#main-copy>.topOfPage {",e+="margin: 2.75ex 1ex 0 0; /* For fully standards-compliant user agents */",e+="}",e+="dl {",e+="margin: 1em 1ex 2em 1ex;",e+="padding: 0;",e+="}",e+="dt {",e+="font-weight: bold;",e+="margin: 0 0 0 0;",e+="padding: 0;",e+="}",e+="dd {",e+="margin: 0 0 2em 2em;",e+="padding: 0;",e+="}",e+="#footer {",e+="color: white;",e+="background-color: rgb(100, 135, 220);",e+="font-size: 91%;",e+="margin: 0;",e+="padding: 1em 2.5mm 2.5ex 2.5mm;",e+="clear: both;",e+="}",e+="#footer .left {",e+="line-height: 1.45em;",e+="float: left;",e+="clear: left;",e+="}",e+="#footer .right {",e+="text-align: right;",e+="line-height: 1.45em;",e+="}",e+="#footer a {",e+="color: white;",e+="background-color: transparent;",e+="text-decoration: underline;",e+="}",e+="#footer a:hover {",e+="text-decoration: none;",e+="}",e+="</style>\n"},r.printCss=function(){var e="";return e='<style media="print">',e+="body {",e+="color: black;",e+="background-color: white;",e+='font-family: "times new roman", times, roman, serif;',e+="font-size: 12pt;",e+="margin: 0;",e+="padding: 0;",e+="}",e+="acronym, .titleTip {",e+="font-style: italic;",e+="border-bottom: none;",e+="}",e+="acronym:after, .titleTip:after {  /* Prints titles after the acronyms/titletips. Doesn't work in MSIE */",e+='content: "(" attr(title) ")\n  font-size: 90%;',e+="font-style: normal;",e+="padding-left: 1ex;",e+="}",e+=".doNotPrint {",e+="display: none !important;",e+="}",e+="#header {",e+="margin: 0;",e+="padding: 0;",e+="border-bottom: 1px solid black;",e+="}",e+=".superHeader {",e+="display: none;",e+="}",e+=".headerTitle {",e+="color: black;",e+="background-color: transparent;",e+='font-family: "trebuchet ms", verdana, helvetica, arial, sans-serif;',e+="font-size: 200%;",e+="font-weight: normal;",
e+="text-decoration: none;",e+="margin: 0;",e+="padding: 0 0 0.5ex 0;",e+="}",e+=".subHeader {",e+="display: none;",e+="}",e+="#side-bar {",e+="display: none;",e+="}",e+="#main-copy {",e+="text-align: justify;",e+="margin: 0;",e+="padding: 0;",e+="}",e+="#main-copy h1 {",e+='font-family: "trebuchet ms", verdana, helvetica, arial, sans-serif;',e+="font-size: 120%;",e+="margin: 2ex 0 1ex 0;",e+="padding: 0;",e+="}",e+="#main-copy a {",e+="color: black;",e+="background-color: transparent;",e+="text-decoration: none;",e+="}",e+="#main-copy a:after {  /* Prints the links' URIs after the links' texts.Doesn't work in MSIE */",e+='content: "<" attr(href) ">\n  font-size: 90%;',e+="padding-left: 1ex;",e+="}",e+="p {",e+="margin: 0 0 2ex 0;",e+="padding: 0;",e+="}",e+="dl {",e+="margin: 0;",e+="padding: 0;",e+="}",e+="dt {",e+="font-weight: bold;",e+="margin: 0;",e+="padding: 0 0 1ex 0;",e+="}",e+="dd {",e+="margin: 0 0 2ex 1.5em;",e+="padding: 0;",e+="}",e+=".topOfPage {",e+="display: none;",e+="}",e+="#footer {",e+="margin: 2em 0 0 0;",e+="padding: 1ex 0 0 0;",e+="border-top: 1px solid black;",e+="}",e+="#footer a {",e+="color: black;",e+="background-color: transparent;",e+="text-decoration: none;",e+="}",e+="</style>\n"},r.attrsStyle=function(){var e="";return e="<style>",e+=".attr-table{\n",e+="font-family:monospace;\n",e+="font-size:100%;\n",e+="font-style:normal;\n",e+="font-weight:normal;\n",e+="border:1px solid black;\n",e+="border-collapse:collapse;\n",e+="}\n",e+=".attr-table th,\n",e+=".attr-table td{\n",e+="text-align:center;\n",e+="border:1px solid black;\n",e+="border-collapse:collapse;\n",e+="}\n",e+=".attr-table caption{font-size:125%;font-weight:bold;text-align:left;}\n",e+=".attr-table th:nth-child(1){text-align:right;}\n",e+=".attr-table th:nth-child(2){text-align:right;}\n",e+=".attr-table td:nth-child(1){text-align:right;}\n",e+=".attr-table td:nth-child(2){text-align:right;}\n",e+="</style>\n"},r.rulesSort=function(e){var t="";return t='<script type="text/javascript">\n',t+='"use strict;"\n',t+="\n",t+="window.onload = function() {\n",t+="if(window.jQuery){\n",t+='    sort({data: "index"});\n',t+="  }else{\n",t+='    var el = document.getElementById("sort-links");\n',t+="    el.innerHTML = tableGen();\n",t+="  }\n",t+="}\n",t+="\n",t+="function sortByNameDown(lhs, rhs){\n",t+=" if(lhs.name < rhs.name){\n",t+="   return -1;\n",t+=" }\n",t+=" if(lhs.name > rhs.name){\n",t+="   return 1;\n",t+=" }\n",t+=" return 0;\n",t+="}\n",t+="function sortByNameUp(lhs, rhs){\n",t+=" if(lhs.name < rhs.name){\n",t+="   return 1;\n",t+=" }\n",t+=" if(lhs.name > rhs.name){\n",t+="   return -1;\n",t+=" }\n",t+=" return 0;\n",t+="}\n",t+="function sortByIndexDown(lhs, rhs){\n",t+=" if(lhs.index < rhs.index){\n",t+="   return -1;\n",t+=" }\n",t+=" if(lhs.index > rhs.index){\n",t+="   return 1;\n",t+=" }\n",t+=" return 0;\n",t+="}\n",t+="function sortByIndexUp(lhs, rhs){\n",t+=" if(lhs.index < rhs.index){\n",t+="   return 1;\n",t+=" }\n",t+=" if(lhs.index > rhs.index){\n",t+="   return -1;\n",t+=" }\n",t+=" return 0;\n",t+="}\n",t+="function sort(e) {\n",t+=' if(e.data === "index"){\n',t+='   if(tableData.indexSort === "down"){\n',t+="     tableData.rows.sort(sortByIndexUp);\n",t+='     tableData.indexSort = "up"\n',t+="   }else{\n",t+="     tableData.rows.sort(sortByIndexDown);\n",t+='     tableData.indexSort = "down"\n',t+="   }\n",t+=" }else{\n",t+='   if(tableData.nameSort === "down"){\n',t+="     tableData.rows.sort(sortByNameUp);\n",t+='     tableData.nameSort = "up"\n',t+="   }else{\n",t+="     tableData.rows.sort(sortByNameDown);\n",t+='     tableData.nameSort = "down"\n',t+="   }\n",t+=" }\n",t+=' $("div#sort-links").html(tableGen());\n',t+=' $("#sort-links a.sortIndex").click("index", sort);\n',t+=' $("#sort-links a.sortName").click("name", sort);\n',t+=' $("#sort-links a.sortExpand").click("show", showAll);\n',t+=' $("#sort-links a.sortCollapse").click("hide", showAll);\n',t+=" tableData.rows.forEach(function(row) {\n",t+='   var text = $("#sort-links a.show-" + row.name);\n',t+="   text.click(row, show);\n",t+="   if(row.visible === true){\n",t+='     text.html("hide");\n',t+='     $("#sort-links tr.tr-" + row.name).show();\n',t+="   }else{\n",t+='     text.html("show");\n',t+='     $("#sort-links tr.tr-" + row.name).hide();\n',t+="   }\n",t+=" });\n",t+="}\n",t+="function showAll(e){\n",t+=" tableData.rows.forEach(function(row){\n",t+='   var text = $("#sort-links a.show-" + row.name);\n',t+='   var line = $("#sort-links tr.tr-" + row.name);\n',t+='   if(e.data === "show"){\n',t+='     text.html("hide");\n',t+='     $("#sort-links tr.tr-" + row.name).show();\n',t+="     row.visible = true;\n",t+="   }else{\n",t+='     text.html("show");\n',t+='     $("#sort-links tr.tr-" + row.name).hide();\n',t+="     row.visible = false;\n",t+="   }\n",t+=" });\n",t+="}\n",t+="function show(e) {\n",t+=" var row = e.data;\n",t+=" var text = $(e.target);\n",t+=" if(row.visible === true){\n",t+='   text.html("show");\n',t+='   $("#sort-links tr.tr-" + row.name).hide();\n',t+="   row.visible = false;\n",t+=" }else{\n",t+='   text.html("hide");\n',t+='   $("#sort-links tr.tr-" + row.name).show();\n',t+="   row.visible = true;\n",t+=" }\n",t+="}\n",t+="function tableGen(e) {\n",t+=' var title = "Rules with Dependencies"\n',t+=' var html = "";\n',t+=" html += '<table class=\""+e+"\">';\n",t+=" html += '<caption>' + title;\n",t+=' html += \'<br><a class=sortExpand href="#">show all</a><br><a class=sortCollapse href="#">hide all</a>\';\n',t+=" html += '</caption>';\n",t+=' html += \'<tr><th><a class="sortIndex" href="#">index</a></th><th><a class="sortName" href="#">rule</a></th><th>refers to</th></tr>\';\n',t+=" tableData.rows.forEach(function(rule) {\n",t+="   if (rule.dependents.length > 0) {\n",t+="     html += '<tr><td>' + rule.index + '</td><td>' + rule.name\n",t+="         + '</td><td><a class=\"show-' + rule.name\n",t+='         + \'" href="#">hide</a></td></tr>\';\n',t+="     html += '<div class=\"div-' + rule.name + '\">';\n",t+="     for (var i = 0; i < rule.dependents.length; i += 1) {\n",t+="       var obj = rule.dependents[i];\n",t+="       html += '<tr class=\"tr-' + rule.name + '\"><td></td><td>'\n",t+="           + obj.index + '</td><td>' + obj.name\n",t+="           + '</td></tr>';\n",t+="     }\n",t+="   } else {\n",t+="     html += '<tr><td>' + rule.index + '</td><td>' + rule.name\n",t+="         + '</td><td></td></tr>';\n",t+="   }\n",t+=" });\n",t+=' html += "</table>";\n',t+=" return html;\n",t+="}</script>\n"},r.attrsSort=function(e){var t="";return t='<script type="text/javascript">\n',t+='"use strict;"\n',t+="\n",t+="window.onload = function() {\n",t+="if(window.jQuery){\n",t+='    sort({data: "null"});\n',t+="  }else{\n",t+='    var el = document.getElementById("sort-links");\n',t+="    el.innerHTML = tableGen();\n",t+="  }\n",t+="}\n",t+="\n",t+="function sortCols(lhs, rhs) {\n",t+=" var lval, rval;\n",t+=" switch (attrSortCol) {\n",t+=' case "rule":\n',t+="   // alphabetical\n",t+="   lval = lhs.lower;\n",t+="   rval = rhs.lower;\n",t+="   break;\n",t+=' case "type":\n',t+="   // numerical on type\n",t+="   lval = lhs.type;\n",t+="   rval = rhs.type;\n",t+="   break;\n",t+=' case "left":\n',t+="   // descending: false (no) preceeds true (yes)\n",t+="   lval = (lhs.left === false) ? 0 : 1;\n",t+="   rval = (rhs.left === false) ? 0 : 1;\n",t+="   break;\n",t+=' case "nested":\n',t+="   lval = (lhs.nested === false) ? 0 : 1;\n",t+="   rval = (rhs.nested === false) ? 0 : 1;\n",t+="   break;\n",t+=' case "right":\n',t+="   lval = (lhs.right === false) ? 0 : 1;\n",t+="   rval = (rhs.right === false) ? 0 : 1;\n",t+="   break;\n",t+=' case "cyclic":\n',t+="   lval = (lhs.cyclic === false) ? 0 : 1;\n",t+="   rval = (rhs.cyclic === false) ? 0 : 1;\n",t+="   break;\n",t+=' case "finite":\n',t+="   lval = (lhs.finite === false) ? 0 : 1;\n",t+="   rval = (rhs.finite === false) ? 0 : 1;\n",t+="   break;\n",t+=' case "empty":\n',t+="   lval = (lhs.empty === false) ? 0 : 1;\n",t+="   rval = (rhs.empty === false) ? 0 : 1;\n",t+="   break;\n",t+=' case "notempty":\n',t+="   lval = (lhs.notempty === false) ? 0 : 1;\n",t+="   rval = (rhs.notempty === false) ? 0 : 1;\n",t+="   break;\n",t+=' case "index":\n',t+=" default:\n",t+="   // numerical\n",t+="   lval = lhs.index;\n",t+="   rval = rhs.index;\n",t+="   break;\n",t+=" }\n",t+=" if (lval < rval) {\n",t+="   if (attrSortDir === 0) {\n",t+="     return -1;\n",t+="   }\n",t+="   return 1;\n",t+=" }\n",t+=" if (lval > rval) {\n",t+="   if (attrSortDir === 0) {\n",t+="     return 1;\n",t+="   }\n",t+="   return -1;\n",t+=" }\n",t+=" return 0;\n",t+="}\n",t+="function sortErrors(lhs, rhs) {\n",t+=" var rerror = (rhs.left === true || rhs.cyclic === true || rhs.finite === false) ? true : false;\n",t+=" var lerror = (lhs.left === true || lhs.cyclic === true || lhs.finite === false) ? true : false;\n",t+=" \n",t+=" if (rerror === false && lerror === true ) {\n",t+="   return -1;\n",t+=" }\n",t+=" if (rerror === true && lerror === false) {\n",t+="   return 1;\n",t+=" }\n",t+=" return 0;\n",t+="}\n",t+="function sort(e) {\n",t+=" if (e.data !== null) {\n",t+="   // sort direction: 0 = descending, 1 = ascending\n",t+="   switch (e.data) {\n",t+='   case "rule":\n',t+='     attrSortCol = "rule"\n',t+="     attrDirs.rule = (attrDirs.rule === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.rule;\n",t+="     break;\n",t+='   case "type":\n',t+='     attrSortCol = "type"\n',t+="     attrDirs.type = (attrDirs.type === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.type;\n",t+="     break;\n",t+='   case "left":\n',t+='     attrSortCol = "left"\n',t+="     attrDirs.left = (attrDirs.left === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.left;\n",t+="     break;\n",t+='   case "nested":\n',t+='     attrSortCol = "nested"\n',t+="     attrDirs.nested = (attrDirs.nested === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.nested;\n",t+="     break;\n",t+='   case "right":\n',t+='     attrSortCol = "right"\n',t+="     attrDirs.right = (attrDirs.right === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.right;\n",t+="     break;\n",t+='   case "cyclic":\n',t+='     attrSortCol = "cyclic"\n',t+="     attrDirs.cyclic = (attrDirs.cyclic === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.cyclic;\n",t+="     break;\n",t+='   case "finite":\n',t+='     attrSortCol = "finite"\n',t+="     attrDirs.finite = (attrDirs.finite === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.finite;\n",t+="     break;\n",t+='   case "empty":\n',t+='     attrSortCol = "empty"\n',t+="     attrDirs.empty = (attrDirs.empty === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.empty;\n",t+="     break;\n",t+='   case "notempty":\n',t+='     attrSortCol = "notempty"\n',t+="     attrDirs.notempty = (attrDirs.notempty === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.notempty;\n",t+="     break;\n",t+='   case "index":\n',t+="   default:\n",t+='     attrSortCol = "index"\n',t+="     attrDirs.index = (attrDirs.index === 0) ? 1 : 0;\n",t+="     attrSortDir = attrDirs.index;\n",t+="     break;\n",t+="   }\n",t+="   attrRows.sort(sortCols);\n",t+="   if (attrHasErrors && attrSortErrors) {\n",t+="     attrRows.sort(sortErrors);\n",t+="   }\n",t+=" }\n",t+=" function check(){\n",t+='   var errors = $("#sort-links input#errors");\n',t+='   if(errors.is(":checked")){\n',t+="     attrSortErrors = true;\n",t+="   }else{\n",t+="     attrSortErrors = false;\n",t+="   }\n",t+=" }\n",t+="\n",t+=' $("div#sort-links").html(tableGen());\n',t+=' $("#sort-links a.index").click("index", sort);\n',t+=' $("#sort-links a.rule").click("rule", sort);\n',t+=' $("#sort-links a.type").click("type", sort);\n',t+=' $("#sort-links a.left").click("left", sort);\n',t+=' $("#sort-links a.nested").click("nested", sort);\n',t+=' $("#sort-links a.right").click("right", sort);\n',t+=' $("#sort-links a.cyclic").click("cyclic", sort);\n',t+=' $("#sort-links a.finite").click("finite", sort);\n',t+=' $("#sort-links a.empty").click("empty", sort);\n',t+=' $("#sort-links a.notempty").click("notempty", sort);\n',t+=' $("#sort-links input#errors").click(check);\n',t+="}\n",t+="function yesno(val) {\n",t+=' return (val === true) ? "yes" : "no"\n',t+="}\n",t+="function tableGen(e) {\n",t+=' var title = "Grammar Attributes"\n',t+=' var checked = attrSortErrors ? "checked" : ""\n',t+=' var html = ""\n',t+=" html += '<table class=\"attr-table\">';\n",t+=" html += '<caption>' + title;\n",t+=" if(attrHasErrors){\n",t+="   html += '<br><input id=\"errors\" type=\"checkbox\" '+checked+'>keep errors at top</input></caption>';\n",t+=" }\n",t+=" html += '</caption>';\n",t+=" html += '<tr>';\n",t+=' html += \'<th><a class="index" href="#">index</a></th>\';\n',t+=' html += \'<th><a class="rule" href="#">rule</a></th>\';\n',t+=' html += \'<th><a class="type" href="#">type</a></th>\';\n',t+=' html += \'<th><a class="left" href="#">left</a></th>\';\n',t+=' html += \'<th><a class="nested" href="#">nested</a></th>\';\n',t+=' html += \'<th><a class="right" href="#">right</a></th>\';\n',t+=' html += \'<th><a class="cyclic" href="#">cyclic</a></th>\';\n',t+=' html += \'<th><a class="finite" href="#">finite</a></th>\';\n',t+=' html += \'<th><a class="empty" href="#">empty</a></th>\';\n',t+=' html += \'<th><a class="notempty" href="#">not empty</a></th>\';\n',t+=" html += '</tr>';\n",t+=" attrRows.forEach(function(row) {\n",t+="   var left = yesno(row.left);\n",t+="   if (row.left === true) {\n",t+="     left = '<span class=\""+e+"\">' + left + '</span>';\n",t+="   }\n",t+="   var cyclic = yesno(row.cyclic);\n",t+="   if (row.cyclic === true) {\n",t+="     cyclic = '<span class=\""+e+"\">' + cyclic + '</span>';\n",t+="   }\n",t+="   var finite = yesno(row.finite);\n",t+="   if (row.finite === false) {\n",t+="     finite = '<span class=\""+e+"\">' + finite + '</span>';\n",t+="   }\n",t+="   html += '<tr>';\n",t+="   html += '<td>' + row.index + '</td>';\n",t+="   html += '<td>' + row.rule + '</td>';\n",t+="   html += '<td>' + row.typename + '</td>';\n",t+="   html += '<td>' + left + '</td>';\n",t+="   html += '<td>' + yesno(row.nested) + '</td>';\n",t+="   html += '<td>' + yesno(row.right) + '</td>';\n",t+="   html += '<td>' + cyclic + '</td>';\n",t+="   html += '<td>' + finite + '</td>';\n",t+="   html += '<td>' + yesno(row.empty) + '</td>';\n",t+="   html += '<td>' + yesno(row.notempty) + '</td>';\n",t+="   html += '</tr>';\n",t+=" });\n",t+=' html += "</table>"\n',t+=" return html;\n",t+="}</script>\n"}},{}],32:[function(e,t,r){t.exports=function(){"use strict";this.callbacks=[],this.callbacks.cr=!1,this.callbacks.crlf=!1,this.callbacks.end=!1,this.callbacks.file=!1,this.callbacks.invalid=!1,this.callbacks["last-line"]=!1,this.callbacks.lf=!1,this.callbacks.line=!1,this.callbacks["line-text"]=!1,this.callbacks.valid=!1,this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:65535},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){var e="";return e+="file = *line [last-line]\n",e+="line = line-text end\n",e+="line-text = *(valid/invalid)\n",e+="last-line = 1*(valid/invalid)\n",e+="valid = %d32-126 / %d9\n",e+="invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffff\n",e+="end = CRLF / LF / CR\n",e+="CRLF = %d13.10\n",e+="LF = %d10\n",e+="CR = %d13\n"}}},{}],33:[function(e,t,r){(function(r){t.exports=function(){"use strict";function t(e,t,r,n,s){return e==u.SEM_PRE?(s.endLength=0,s.textLength=0):s.catalog.push({lineNo:s.catalog.length,beginChar:r,length:n,textLength:s.textLength,endLength:s.endLength,endType:s.endType,invalidChars:s.invalidCount}),u.SEM_OK}function n(e,t,r,n,s){return e==u.SEM_PRE&&(s.textLength=n),u.SEM_OK}function s(e,t,r,n,s){return e==u.SEM_PRE?s.invalidCount=0:(s.errors.push({line:s.catalog.length,"char":r+n,msg:"last line has no line end characters"}),s.catalog.push({lineNo:s.catalog.length,beginChar:r,length:n,textLength:n,endLength:0,endType:"none",invalidChars:s.invalidCount})),u.SEM_OK}function i(e,t,r,n,s){return e==u.SEM_PRE&&s.errors.push({line:s.lineNo,"char":r,msg:"invalid character found '\\x"+p.utils.charToHex(t[r])+"'"}),u.SEM_OK}function a(e,t,r,n,s){return e==u.SEM_POST&&(s.lineNo+=1),u.SEM_OK}function o(e,t,r,n,s){return e==u.SEM_PRE&&s.strict&&s.errors.push({line:s.lineNo,"char":r,msg:"line end character is new line only (\\n, \\x0A) - strict ABNF specified"}),u.SEM_OK}function l(e,t,r,n,s){return e==u.SEM_PRE&&s.strict&&s.errors.push({line:s.lineNo,"char":r,msg:"line end character is carriage return only(\\r, \\x0D) - strict ABNF specified"}),u.SEM_OK}var c="input-file-analysis.js: ",h=e("fs"),p=e("apg-lib"),u=p.ids,d=e("./input-analysis-grammar.js"),f=this;this.hasInvalidCharacters=!1,this.originalString="",this.chars=[],this.lines=[];var m=new r([13,10]),g=new r([10]),b=0,y=[];this.get=function(e){var t=[];if(this.chars.length=0,this.lines.length=0,"string"==typeof e)t.push(e);else{if(!Array.isArray(e))throw new Error("get(): unrecognized input: must be string or array of strings");t=e}b=t.length;try{for(var r=0;r<t.length;r+=1){for(var n=h.readFileSync(t[r]),s=0;s<n.length;s+=1)this.chars.push(n[s]);this.originalString=p.utils.charsToString(this.chars)}}catch(i){throw new Error(c+"get(): error reading input grammar file\n"+i.message)}},this.getString=function(e){if("string"!=typeof e||""===e)throw new Error(c+'getString(): input not a valid string: "'+e+'"');this.originalString=e.slice(0),this.chars.length=0,this.lines.length=0,this.chars=p.utils.stringToChars(e)},this.analyze=function(e,r){var c={hasErrors:!1,errors:y,trace:null};void 0!==e&&e===!0||(e=!1);for(var h=0;h<this.chars.length;h+=1){var u=this.chars[h];u>65535&&y.push({line:0,"char":h,msg:"input SABNF grammar has invalid character code > 65535: char["+h+"]"+u})}if(y.length>0)return c.hasErrors=!0,c;var m=new d,g=new p.parser;g.ast=new p.ast,r===!0&&(g.trace=new p.trace,g.trace.filter.operators.trg=!0,g.trace.filter.operators.tbs=!0,g.trace.filter.operators.tls=!0,c.trace=g.trace),g.ast.callbacks.line=t,g.ast.callbacks["line-text"]=n,g.ast.callbacks["last-line"]=s,g.ast.callbacks.invalid=i,g.ast.callbacks.end=a,g.ast.callbacks.lf=o,g.ast.callbacks.cr=l;var b=g.parse(m,"file",this.chars);if(b.success!==!0)return y.push({line:0,"char":0,msg:"syntax analysis error analyzing input SABNF grammar"}),c.hasErrors=!0,c;y.length=0;var x={catalog:f.lines,lineNo:0,errors:y,strict:e,endLength:0};return g.ast.translate(x),y.length>0&&(c.hasErrors=!0),c};var x=function(e,t){if("string"!=typeof e)throw new Error(c+"filename is not a string");try{var n,s,i;s=new r(f.chars),n=h.openSync(e,"w"),f.lines.forEach(function(e,r){i=h.writeSync(n,s,e.beginChar,e.textLength),i=h.writeSync(n,t,0,t.length)})}catch(a){var o=c+"convert: can't open file'"+e+"'\n";throw o+=a.message,new Error(o)}};this.toCRLF=function(e){x(e,m)},this.toLF=function(e){x(e,g)},this.findLine=function(e){var t=-1;if(0>e)t=0;else if(e>=f.chars.length)t=0===f.lines.length?0:f.lines.length-1;else for(var r=0;r<f.lines.length;r+=1)if(e>=f.lines[r].beginChar&&e<f.lines[r].beginChar+f.lines[r].length){t=r;break}return t},this.dump=function(){this.lines.forEach(function(e,t){console.log("line: "+e.lineNo),console.log("begin: "+e.beginChar),console.log("length: "+e.length),console.log("textLength: "+e.textLength),console.log("endLength: "+e.endLength),console.log("invalidChars: "+e.invalidChars),console.log("")})};var k=function(e,t,r){for(var n,s=0,i=1,a=2,o='<span class="'+p.utils.styleNames.CLASS_CTRL+'">',l="</span>",c='<span class="'+p.utils.styleNames.CLASS_NOMATCH+'">',h="</span>",u="";;){if(!Array.isArray(e)||0===e.length)break;if("number"!=typeof t&&(t=0),t>=e.length)break;n="number"!=typeof r||t+r>=e.length?e.length:t+r;for(var d=s,f=t;n>f;f+=1){var m=e[f];if(m>=32&&126>=m)switch(d===i?(u+=l,d=s):d===a&&(u+=h,d=s),m){case 32:u+="&nbsp;";break;case 60:u+="&lt;";break;case 62:u+="&gt;";break;case 38:u+="&amp;";break;case 34:u+="&quot;";break;case 39:u+="&#039;";break;case 92:u+="&#092;";break;default:u+=String.fromCharCode(m)}else 9===m||10===m||13===m?(d===s?(u+=o,d=i):d===a&&(u+=h+o,d=i),9===m&&(u+="TAB"),10===m&&(u+="LF"),13===m&&(u+="CR")):(d===s?(u+=c,d=a):d===i&&(u+=l+c,d=a),u+="\\x"+p.utils.charToHex(m))}d===a&&(u+=h),d===i&&(u+=l);break}return u},T=function(e,t,r,n){var s=p.utils.styleNames,i="";if(!(Array.isArray(e)&&Array.isArray(t)&&Array.isArray(r)))return i;"string"==typeof n&&""!==n||(n=null);var a='<span class="'+s.CLASS_NOMATCH+'">&raquo;</span>';return i+='<p><table class="'+s.CLASS_LAST_LEFT_TABLE+'">\n',n&&(i+="<caption>"+n+"</caption>\n"),i+="<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>\n",r.forEach(function(r){var n,s,o,l,c,h="",u="";0===t.length?(c=a,s=0):(n=t[r.line],o=n.beginChar,r["char"]>o&&(h=k(e,o,r["char"]-o)),o=r["char"],l=n.beginChar+n.length,l>o&&(u=k(e,o,l-o)),c=h+a+u,s=r["char"]-n.beginChar),i+="<tr>",i+="<td>"+r.line+"</td><td>"+n.beginChar+"</td><td>"+s+"</td><td>"+c+"</td>",i+="</tr>\n",i+="<tr>",i+='<td colspan="3"></td><td>&uarr;:&nbsp;'+p.utils.stringToAsciiHtml(r.msg)+"</td>",i+="</tr>\n"}),i+="</table></p>\n"};this.errorsToHtml=function(e,t){return T(this.chars,this.lines,e,t)},this.toString=function(){var e,t="",r=this.chars;return this.lines.forEach(function(n){t+=n.lineNo+": ",t+=n.beginChar+": ",e=n.beginChar+n.textLength;for(var s=n.beginChar;e>s;s+=1)t+=String.fromCharCode(r[s]);t+="\n"}),t},this.errorsToString=function(e){var t,r,n,s,i,a;return t="",r=this.chars,n=this.lines,e.forEach(function(e){s=n[e.line],t+=s.lineNo+": ",t+=s.beginChar+": ",t+=e["char"]-s.beginChar+": ",i=s.beginChar,a=e["char"];for(var o=i;a>o;o+=1)t+=String.fromCharCode(r[o]);t+=" >> ",i=a,a=s.beginChar+s.textLength;for(var o=i;a>o;o+=1)t+=String.fromCharCode(r[o]);t+="\n",t+=s.lineNo+": ",t+=s.beginChar+": ",t+=e["char"]-s.beginChar+": ",t+="error: ",t+=e.msg,t+="\n"}),t},this.toHtml=function(){var e="";e+="<p>",e+='<table class="'+p.utils.styleNames.CLASS_LAST_LEFT_TABLE+'">\n';var t="Annotated Input Grammar File";return b>1&&(t+="s("+b+")"),e+="<caption>"+t+"</caption>\n",e+="<tr>",e+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",e+="</tr>\n",this.lines.forEach(function(t,r){e+="<tr>",e+="<td>"+t.lineNo+"</td><td>"+t.beginChar+"</td><td>"+t.length+"</td><td>"+k(f.chars,t.beginChar,t.length),e+="</tr>\n"}),e+="</table></p>\n"}}}).call(this,e("buffer").Buffer)},{"./input-analysis-grammar.js":32,"apg-lib":18,buffer:2,fs:1}],34:[function(e,t,r){t.exports=function(t){"use strict";function r(e,t,r,n,s){var i=z.SEM_OK;if(e==z.SEM_PRE)s.ruleNames=new q,s.udtNames=new q,s.rules=[],s.udts=[],s.rulesLineMap=[],s.opcodes=[],s.altStack=[],s.topStack=null,s.topRule=null;else if(e==z.SEM_POST){var a;s.rules.forEach(function(e,t){e.isBkr=!1,e.opcodes.forEach(function(e,t){e.type===z.RNM&&(a=s.ruleNames.get(e.index.name),-1===a?(s.errors.push({line:s.findLine(e.index.phraseIndex),"char":e.index.phraseIndex,msg:"Rule name '"+e.index.name+"' used but not defined."}),e.index=-1):e.index=a.index)})}),s.udts.forEach(function(e){e.isBkr=!1}),s.rules.forEach(function(e,t){e.opcodes.forEach(function(t,r){t.type===z.BKR&&(e.hasBkr=!0,a=s.ruleNames.get(t.index.name),-1!==a?(s.rules[a.index].isBkr=!0,t.index=a.index):(a=s.udtNames.get(t.index.name),-1!==a?(s.udts[a.index].isBkr=!0,t.index=s.rules.length+a.index):(s.errors.push({line:s.findLine(t.index.phraseIndex),"char":t.index.phraseIndex,msg:"Back reference name '"+t.index.name+"' refers to undefined rule or unamed UDT."}),t.index=-1)))})})}return i}function n(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?(s.altStack.length=0,s.topStack=null,s.rulesLineMap.push({line:s.findLine(r),"char":r})):e==z.SEM_POST,i}function s(e,t,r,n,s){var i=z.SEM_OK;if(e==z.SEM_PRE)s.ruleName="",s.definedas="";else if(e==z.SEM_POST){var a;"="===s.definedas?(a=s.ruleNames.add(s.ruleName),-1===a?(s.definedas=null,s.errors.push({line:s.findLine(r),"char":r,msg:"Rule name '"+s.ruleName+"' previously defined."})):(s.topRule={name:a.name,lower:a.lower,opcodes:[],index:a.index},s.rules.push(s.topRule),s.opcodes=s.topRule.opcodes)):(a=s.ruleNames.get(s.ruleName),-1===a?(s.definedas=null,s.errors.push({line:s.findLine(r),"char":r,msg:"Rule name '"+s.ruleName+"' for incremental alternate not previously defined."})):(s.topRule=s.rules[a.index],s.opcodes=s.topRule.opcodes))}return i}function i(e,t,r,n,s){var i=z.SEM_OK;if(e==z.SEM_PRE)for(;;){if(null===s.definedas){i=z.SEM_SKIP;break}if(null===s.topStack){if("="===s.definedas){s.topStack={alt:{type:z.ALT,children:[]},cat:null},s.altStack.push(s.topStack),s.opcodes.push(s.topStack.alt);break}s.topStack={alt:s.opcodes[0],cat:null},s.altStack.push(s.topStack);break}s.topStack={alt:{type:z.ALT,children:[]},cat:null},s.altStack.push(s.topStack),s.opcodes.push(s.topStack.alt);break}else e==z.SEM_POST&&(s.altStack.pop(),s.altStack.length>0?s.topStack=s.altStack[s.altStack.length-1]:s.topStack=null);return i}function a(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?(s.topStack.alt.children.push(s.opcodes.length),s.topStack.cat={type:z.CAT,children:[]},s.opcodes.push(s.topStack.cat)):e==z.SEM_POST&&(s.topStack.cat=null),i}function o(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?s.topStack.cat.children.push(s.opcodes.length):e==z.SEM_POST,i}function l(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.REP,min:0,max:1,"char":r}),i}function c(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?s.ruleName=V.utils.charsToString(t,r,n):e==z.SEM_POST,i}function h(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.definedas="="),i}function p(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.definedas="=/"),i}function u(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?(s.min=0,s.max=1/0,s.topRep={type:z.REP,min:0,max:1/0},s.opcodes.push(s.topRep)):e==z.SEM_POST&&(s.min>s.max&&s.errors.push({line:s.findLine(r),"char":r,msg:"repetition min cannot be greater than max: min: "+s.min+": max: "+s.max}),s.topRep.min=s.min,s.topRep.max=s.max),i}function d(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.min=J(t,r,n)),i}function f(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.max=J(t,r,n)),i}function m(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.max=J(t,r,n),s.min=s.max),i}function g(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.AND}),i}function b(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.NOT}),i}function y(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.RNM,index:{phraseIndex:r,name:V.utils.charsToString(t,r,n)}}),i}function x(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.ABG}),i}function k(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.AEN}),i}function T(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.BKA}),i}function S(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.opcodes.push({type:z.BKN}),i}function E(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?(s.ci=!0,s.cs=!1,s.um=!0,s.pm=!1):e==z.SEM_POST&&s.opcodes.push({type:z.BKR,bkrCase:s.cs===!0?z.BKR_MODE_CS:z.BKR_MODE_CI,bkrMode:s.pm===!0?z.BKR_MODE_PM:z.BKR_MODE_UM,index:{phraseIndex:s.bkrname.phraseIndex,name:V.utils.charsToString(t,s.bkrname.phraseIndex,s.bkrname.phraseLength)}}),i}function A(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.ci=!0),i}function w(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.cs=!0),i}function v(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.um=!0),i}function C(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.pm=!0),i}function M(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.bkrname={phraseIndex:r,phraseLength:n}),i}function L(e,t,r,n,s){var i=z.SEM_OK;if(e==z.SEM_PRE);else if(e==z.SEM_POST){var a=V.utils.charsToString(t,r,n),o=s.udtNames.add(a);if(-1===o){if(o=s.udtNames.get(a),-1===o)throw new Error("semUdtEmpty: name look up error")}else s.udts.push({name:o.name,lower:o.lower,index:o.index,empty:!0});s.opcodes.push({type:z.UDT,empty:!0,index:o.index})}return i}function _(e,t,r,n,s){var i=z.SEM_OK;if(e==z.SEM_PRE);else if(e==z.SEM_POST){var a=V.utils.charsToString(t,r,n),o=s.udtNames.add(a);if(-1===o){if(o=s.udtNames.get(a),-1===o)throw new Error("semUdtNonEmpty: name look up error")}else s.udts.push({name:o.name,lower:o.lower,index:o.index,empty:!1});s.opcodes.push({type:z.UDT,empty:!1,index:o.index,syntax:null,semantic:null})}return i}function O(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?s.tlscase=!0:e==z.SEM_POST,i}function R(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&n>0&&(83===t[r+1]||115===t[r+1])&&(s.tlscase=!1),i}function B(e,t,r,n,s){var i=z.SEM_OK;if(e==z.SEM_PRE);else if(e==z.SEM_POST)if(s.tlscase){for(var a=t.slice(r,r+n),o=0;o<a.length;o+=1)a[o]>=65&&a[o]<=90&&(a[o]+=32);s.opcodes.push({type:z.TLS,string:a})}else s.opcodes.push({type:z.TBS,string:t.slice(r,r+n)});return i}function N(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(2>=n?s.opcodes.push({type:z.TLS,string:[]}):s.opcodes.push({type:z.TBS,string:t.slice(r+1,r+n-1)})),i}function P(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?s.tbsstr=[]:e==z.SEM_POST&&s.opcodes.push({type:z.TBS,string:s.tbsstr}),i}function H(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE?(s.min=0,s.max=0):e==z.SEM_POST&&(s.min>s.max&&s.errors.push({line:s.findLine(r),"char":r,msg:"TRG, (%dmin-max), min cannot be greater than max: min: "+s.min+": max: "+s.max}),s.opcodes.push({type:z.TRG,min:s.min,max:s.max})),i}function D(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.min=J(t,r,n)),i}function I(e,t,r,n,s){
var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.max=J(t,r,n)),i}function j(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.min=X(t,r,n)),i}function F(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.max=X(t,r,n)),i}function U(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.min=Q(t,r,n)),i}function K(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&(s.max=Q(t,r,n)),i}function Y(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.tbsstr.push(J(t,r,n)),i}function $(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.tbsstr.push(X(t,r,n)),i}function G(e,t,r,n,s){var i=z.SEM_OK;return e==z.SEM_PRE||e==z.SEM_POST&&s.tbsstr.push(Q(t,r,n)),i}var V=e("apg-lib"),z=V.ids,q=function(){this.names=[],this.add=function(e){var t=-1,r=this.get(e);return-1===r&&(t={name:e,lower:e.toLowerCase(),index:this.names.length},this.names.push(t)),t},this.get=function(e){for(var t=-1,r=e.toLowerCase(),n=0;n<this.names.length;n+=1)if(this.names[n].lower===r){t=this.names[n];break}return t}},J=function(e,t,r){for(var n=0,s=t;t+r>s;s+=1)n=10*n+e[s]-48;return n},X=function(e,t,r){for(var n=0,s=t;t+r>s;s+=1)n=2*n+e[s]-48;return n},Q=function(e,t,r){for(var n=0,s=t;t+r>s;s+=1){var i=e[s];if(i>=48&&57>=i)i-=48;else if(i>=65&&70>=i)i-=55;else{if(!(i>=97&&102>=i))throw"hexnum out of range";i-=87}n=16*n+i}return n};this.callbacks=[],this.callbacks.abgop=x,this.callbacks.aenop=k,this.callbacks.alternation=i,this.callbacks.andop=g,this.callbacks.bmax=F,this.callbacks.bmin=j,this.callbacks.bkaop=T,this.callbacks.bknop=S,this.callbacks.bkrop=E,this.callbacks["bkr-name"]=M,this.callbacks.bstring=$,this.callbacks.clsop=N,this.callbacks.ci=A,this.callbacks.cs=w,this.callbacks.um=v,this.callbacks.pm=C,this.callbacks.concatenation=a,this.callbacks.defined=h,this.callbacks.dmax=I,this.callbacks.dmin=D,this.callbacks.dstring=Y,this.callbacks.file=r,this.callbacks.incalt=p,this.callbacks.notop=b,this.callbacks.optionopen=l,this.callbacks["rep-max"]=f,this.callbacks["rep-min"]=d,this.callbacks["rep-min-max"]=m,this.callbacks.repetition=o,this.callbacks.repop=u,this.callbacks.rnmop=y,this.callbacks.rule=n,this.callbacks.rulelookup=s,this.callbacks.rulename=c,this.callbacks.tbsop=P,this.callbacks.tlscase=R,this.callbacks.tlsstring=B,this.callbacks.tlsop=O,this.callbacks.trgop=H,this.callbacks["udt-empty"]=L,this.callbacks["udt-non-empty"]=_,this.callbacks.xmax=K,this.callbacks.xmin=U,this.callbacks.xstring=G}},{"apg-lib":18}],35:[function(e,t,r){t.exports=function(){"use strict";var t,r="SyntaxCallbacks.js: ",n=e("apg-lib"),s=n.ids,i=function(e,t,n,i){switch(e.state){case s.ACTIVE:i.altStack=[],i.repCount=0;break;case s.EMPTY:i.errors.push({line:0,"char":0,msg:"grammar file is empty"});break;case s.MATCH:0===i.ruleCount&&i.errors.push({line:0,"char":0,msg:"no rules defined"});break;case s.NOMATCH:throw new Error(r+"synFile: grammar file NOMATCH: design error: should never happen.")}},a=function(e,n,i,a){switch(e.state){case s.ACTIVE:a.altStack.length=0,t={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},a.altStack.push(t);break;case s.EMPTY:throw new Error(r+"synRule: EMPTY: rule cannot be empty");case s.NOMATCH:break;case s.MATCH:a.ruleCount+=1}},o=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(r),"char":r,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."})}},l=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(r),"char":r,msg:"Rule names must be alphanum and begin with alphabetic character."})}},c=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.findLine(r);n.errors.push({line:n.findLine(r),"char":r,msg:"Expected '=' or '=/'. Not found."})}},h=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(r),"char":r,msg:"AND operator, &, found - strict ABNF specified."})}},p=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(r),"char":r,msg:"NOT operator, !, found - strict ABNF specified."})}},u=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(r),"char":r,msg:"Positive look-behind operator, .&, found - strict ABNF specified."})}},d=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(r),"char":r,msg:"Negative look-behind operator, .!, found - strict ABNF specified."})}},f=function(e,t,r,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:if(i.strict){var a=n.utils.charsToString(t,r,e.phraseLength);i.errors.push({line:i.findLine(r),"char":r,msg:"Back reference operator, '"+a+"', found - strict ABNF specified."})}}},m=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(r),"char":r,msg:"UDT operator found - strict ABNF specified."})}},g=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:t.tlsOpen=n}},b=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.stringTabChar!==!1&&n.errors.push({line:n.findLine(n.stringTabChar),"char":n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"})}},y=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.stringTabChar=r}},x=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(t.tlsOpen),"char":t.tlsOpen,msg:'Case-insensitive literal string, "...", opened but not closed.'}),t.basicError=!0,t.tlsOpen=null;break;case s.MATCH:t.tlsOpen=null}},k=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:t.clsOpen=n}},T=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.stringTabChar!==!1&&n.errors.push({line:n.findLine(n.stringTabChar),"char":n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."})}},S=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(t.clsOpen),"char":t.clsOpen,msg:"Case-sensitive literal string, '...', opened but not closed."}),t.clsOpen=null,t.basicError=!0;break;case s.MATCH:i.strict&&i.errors.push({line:i.findLine(t.clsOpen),"char":t.clsOpen,msg:"Case-sensitive string operator, '...', found - strict ABNF specified."}),t.clsOpen=null}},E=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:t.prosValOpen=n}},A=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.stringTabChar!==!1&&n.errors.push({line:n.findLine(n.stringTabChar),"char":n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."})}},w=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(t.prosValOpen),"char":t.prosValOpen,msg:"Prose value, <...>, opened but not closed."}),t.basicError=!0,t.prosValOpen=null;break;case s.MATCH:i.errors.push({line:i.findLine(t.prosValOpen),"char":t.prosValOpen,msg:"Prose value operator, <...>, found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),t.prosValOpen=null}},v=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:t={groupOpen:n,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},i.altStack.push(t)}},C=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(t.groupOpen),"char":t.groupOpen,msg:"Group, (...), opened but not closed."}),t=i.altStack.pop(),t.groupError=!0;break;case s.MATCH:t=i.altStack.pop()}},M=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:t={groupOpen:null,groupError:!1,optionOpen:n,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},i.altStack.push(t)}},L=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(t.optionOpen),"char":t.optionOpen,msg:"Option, [...], opened but not closed."}),t=i.altStack.pop(),t.optionError=!0;break;case s.MATCH:t=i.altStack.pop()}},_=function(e,r,n,i){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:t.basicError===!1&&i.errors.push({line:i.findLine(n),"char":n,msg:"Unrecognized SABNF element."})}},O=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(r),"char":r,msg:"Unrecognized grammar element or characters."})}},R=function(e,t,r,n){switch(e.state){case s.ACTIVE:break;case s.EMPTY:break;case s.NOMATCH:n.repCount+=1;break;case s.MATCH:n.repCount+=1}};this.callbacks=[],this.callbacks.andop=h,this.callbacks.basicelementerr=_,this.callbacks.clsclose=S,this.callbacks.clsopen=k,this.callbacks.clsstring=T,this.callbacks.definedaserror=c,this.callbacks.file=i,this.callbacks.groupclose=C,this.callbacks.groupopen=v,this.callbacks.lineenderror=O,this.callbacks.notop=p,this.callbacks.optionclose=L,this.callbacks.optionopen=M,this.callbacks.prosvalclose=w,this.callbacks.prosvalopen=E,this.callbacks.prosvalstring=A,this.callbacks.repetition=R,this.callbacks.rule=a,this.callbacks.ruleerror=o,this.callbacks.rulenameerror=l,this.callbacks.stringtab=y,this.callbacks.tlsclose=x,this.callbacks.tlsopen=g,this.callbacks.tlsstring=b,this.callbacks.udtop=m,this.callbacks.bkaop=u,this.callbacks.bknop=d,this.callbacks.bkrop=f}},{"apg-lib":18}]},{},[7]);
